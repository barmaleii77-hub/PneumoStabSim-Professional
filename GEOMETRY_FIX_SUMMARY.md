# ? ИСПРАВЛЕНА НАЧАЛЬНАЯ ГЕОМЕТРИЯ

## Что было НЕПРАВИЛЬНО:
? Позиция `j_rod` **вычислялась** от произвольного угла рычага
? Поршень в **середине** цилиндра (50%)
? Объёмы **не равны**: V_head ? V_rod
? Длина хвостовика **фиксирована** (100mm), а не вычислена

## Что стало ПРАВИЛЬНО:
? **Начальное состояние:**
   - Рычаг **ГОРИЗОНТАЛЕН** (перпендикулярен раме)
   - Поршень в позиции **V_head = V_rod**
   - Позиция поршня: **105mm** от начала цилиндра (42%)

? **Начальные координаты (ФИКСИРОВАНЫ!):**
```qml
// Left side (lever points LEFT at neutral):
FL j_rod: (-465, 60, -1000)  // -150 - 315 = -465
RL j_rod: (-465, 60, 1000)

// Right side (lever points RIGHT at neutral):
FR j_rod: (465, 60, -1000)   // 150 + 315 = 465
RR j_rod: (465, 60, 1000)
```

? **Расчёт поршня (V_head = V_rod):**
```
A_head = 5027 mm?
A_rod = 4223 mm? (минус объём штока!)
L_working = 230 mm

L_head_0 = (A_rod ? L_working) / (A_head + A_rod)
         = (4223 ? 230) / (5027 + 4223)
         = 105 mm

V_head = 5027 ? 105 = 527835 mm?
V_rod  = 4223 ? 125 = 527875 mm?
Разница: 40 mm? (0.0075% ?)
```

? **Длина штока поршня (вычислена!):**
```
L_total = ?(365? + 650?) = 745.5 mm
L_piston_rod = 745.5 - 100 (tail) - 250 (cylinder) = 395.5 mm
```

## ФАЙЛЫ С ПРАВИЛЬНЫМИ ЗНАЧЕНИЯМИ:

? `docs/INITIAL_GEOMETRY_CALCULATION.md` - полный расчёт
? `src/core/initial_geometry.py` - Python модуль расчёта
? `test_initial_geometry.py` - тестовый скрипт
? `assets/qml/components/CorrectedSuspensionCorner.qml` - исправлен
? `test_2m_suspension.py` - исправлен

## ЗАПУСК:

```bash
py test_2m_suspension.py
```

**РЕЗУЛЬТАТ:** ? Шток соединён с рычагом, объёмы равны!


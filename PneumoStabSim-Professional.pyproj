<?xml version="1.0" encoding="utf-8"?>
<Project DefaultTargets="Build" xmlns="http://schemas.microsoft.com/developer/msbuild/2003" ToolsVersion="4.0">
  <PropertyGroup>
    <VisualStudioVersion Condition="'$(VisualStudioVersion)' == ''">10.0</VisualStudioVersion>
    <Configuration Condition=" '$(Configuration)' == '' ">Debug</Configuration>
    <SchemaVersion>2.0</SchemaVersion>
    <ProjectGuid>{6D6D7E5C-8F5A-4B5E-A6F1-2C8E9B3D4A5F}</ProjectGuid>
    <ProjectHome>.</ProjectHome>
    <ProjectTypeGuids>{9A19103F-16F7-4668-BE54-9A1E7A4F7556}</ProjectTypeGuids>
    <StartupFile>app.py</StartupFile>
    <SearchPath>src\;tests\;scripts\;</SearchPath>
    <WorkingDirectory>.</WorkingDirectory>
    <OutputPath>.</OutputPath>
    <ProjectName>PneumoStabSim-Professional</ProjectName>
    <Name>PneumoStabSim-Professional</Name>
    <RootNamespace>pneumostabsim</RootNamespace>
    <InterpreterId>Global|PythonCore|3.13</InterpreterId>
    <SuppressConfigureTestFrameworkPrompt>true</SuppressConfigureTestFrameworkPrompt>
    <TestFramework>pytest</TestFramework>
    <UnitTestPattern>test_*.py</UnitTestPattern>
    <UnitTestRootDirectory>tests</UnitTestRootDirectory>
    <LaunchProvider>Standard Python launcher</LaunchProvider>
    <EnableNativeCodeDebugging>False</EnableNativeCodeDebugging>
<<<<<<< HEAD
    <!-- Включаем консольный режим для отображения логов/вывода -->
    <IsWindowsApplication>False</IsWindowsApplication>
=======
    <IsWindowsApplication>True</IsWindowsApplication>
>>>>>>> sync/remote-main
  </PropertyGroup>
  
  <!-- Конфигурации сборки -->
  <PropertyGroup Condition=" '$(Configuration)' == 'Debug' ">
    <DebugSymbols>true</DebugSymbols>
    <EnableUnmanagedDebugging>false</EnableUnmanagedDebugging>
<<<<<<< HEAD
    <!-- Соответствует app.py: используем --verbose вместо устаревшего --debug -->
    <CommandLineArguments>--verbose</CommandLineArguments>
=======
    <CommandLineArguments>--debug</CommandLineArguments>
>>>>>>> sync/remote-main
  </PropertyGroup>
  <PropertyGroup Condition=" '$(Configuration)' == 'Release' ">
    <DebugSymbols>false</DebugSymbols>
    <EnableUnmanagedDebugging>false</EnableUnmanagedDebugging>
<<<<<<< HEAD
    <!-- Удален несуществующий флаг --force-optimized -->
    <CommandLineArguments></CommandLineArguments>
=======
    <CommandLineArguments>--force-optimized</CommandLineArguments>
>>>>>>> sync/remote-main
  </PropertyGroup>
  <PropertyGroup Condition=" '$(Configuration)' == 'Test' ">
    <DebugSymbols>true</DebugSymbols>
    <EnableUnmanagedDebugging>false</EnableUnmanagedDebugging>
    <CommandLineArguments>--test-mode</CommandLineArguments>
  </PropertyGroup>

  <!-- Основные файлы проекта -->
  <ItemGroup>
    <Compile Include="app.py">
      <SubType>Code</SubType>
    </Compile>
    <Compile Include="launch.py">
      <SubType>Code</SubType>
    </Compile>
    <Compile Include="quick_fix.py">
      <SubType>Code</SubType>
    </Compile>
    <Compile Include="quick_test.py">
      <SubType>Code</SubType>
    </Compile>
    <Compile Include="qml_diagnostic.py">
      <SubType>Code</SubType>
    </Compile>
    <Compile Include="setup_vscode.py">
      <SubType>Code</SubType>
    </Compile>
  </ItemGroup>

  <!-- Модули src -->
  <ItemGroup>
    <Compile Include="src\__init__.py">
      <SubType>Code</SubType>
    </Compile>
    <Compile Include="src\ui\__init__.py">
      <SubType>Code</SubType>
    </Compile>
    <Compile Include="src\ui\main_window.py">
      <SubType>Code</SubType>
    </Compile>
    <Compile Include="src\ui\panels\__init__.py">
      <SubType>Code</SubType>
    </Compile>
    <Compile Include="src\ui\panels\panel_geometry.py">
      <SubType>Code</SubType>
    </Compile>
    <Compile Include="src\ui\panels\panel_graphics.py">
      <SubType>Code</SubType>
    </Compile>
    <Compile Include="src\ui\panels\panel_modes.py">
      <SubType>Code</SubType>
    </Compile>
    <Compile Include="src\ui\panels\panel_pneumo.py">
      <SubType>Code</SubType>
    </Compile>
    <Compile Include="src\ui\charts.py">
      <SubType>Code</SubType>
    </Compile>
    <Compile Include="src\ui\geometry_bridge.py">
      <SubType>Code</SubType>
    </Compile>
    <Compile Include="src\ui\custom_geometry.py">
      <SubType>Code</SubType>
    </Compile>
  </ItemGroup>

  <!-- Runtime система -->
  <ItemGroup>
    <Compile Include="src\runtime\__init__.py">
      <SubType>Code</SubType>
    </Compile>
    <Compile Include="src\runtime\sim_loop.py">
      <SubType>Code</SubType>
    </Compile>
    <Compile Include="src\runtime\state.py">
      <SubType>Code</SubType>
    </Compile>
    <Compile Include="src\runtime\sync.py">
      <SubType>Code</SubType>
    </Compile>
  </ItemGroup>

  <!-- Физика и механика -->
  <ItemGroup>
    <Compile Include="src\physics\__init__.py">
      <SubType>Code</SubType>
    </Compile>
    <Compile Include="src\physics\integrator.py">
      <SubType>Code</SubType>
    </Compile>
    <Compile Include="src\physics\odes.py">
      <SubType>Code</SubType>
    </Compile>
    <Compile Include="src\mechanics\__init__.py">
      <SubType>Code</SubType>
    </Compile>
    <Compile Include="src\mechanics\kinematics.py">
      <SubType>Code</SubType>
    </Compile>
    <Compile Include="src\mechanics\components.py">
      <SubType>Code</SubType>
    </Compile>
    <Compile Include="src\mechanics\constraints.py">
      <SubType>Code</SubType>
    </Compile>
    <Compile Include="src\mechanics\suspension.py">
      <SubType>Code</SubType>
    </Compile>
  </ItemGroup>

  <!-- Пневматическая система -->
  <ItemGroup>
    <Compile Include="src\pneumo\__init__.py">
      <SubType>Code</SubType>
    </Compile>
    <Compile Include="src\pneumo\enums.py">
      <SubType>Code</SubType>
    </Compile>
    <Compile Include="src\pneumo\states.py">
      <SubType>Code</SubType>
    </Compile>
    <Compile Include="src\pneumo\valves.py">
      <SubType>Code</SubType>
    </Compile>
    <Compile Include="src\pneumo\flows.py">
      <SubType>Code</SubType>
    </Compile>
    <Compile Include="src\pneumo\network.py">
      <SubType>Code</SubType>
    </Compile>
  </ItemGroup>

  <!-- Дорожная система -->
  <ItemGroup>
    <Compile Include="src\road\__init__.py">
      <SubType>Code</SubType>
    </Compile>
    <Compile Include="src\road\engine.py">
      <SubType>Code</SubType>
    </Compile>
    <Compile Include="src\road\profiles.py">
      <SubType>Code</SubType>
    </Compile>
  </ItemGroup>

  <!-- Общие утилиты -->
  <ItemGroup>
    <Compile Include="src\common\__init__.py">
      <SubType>Code</SubType>
    </Compile>
    <Compile Include="src\common\logging_setup.py">
      <SubType>Code</SubType>
    </Compile>
    <Compile Include="src\common\errors.py">
      <SubType>Code</SubType>
    </Compile>
    <Compile Include="src\common\units.py">
      <SubType>Code</SubType>
    </Compile>
    <Compile Include="src\common\csv_export.py">
      <SubType>Code</SubType>
    </Compile>
  </ItemGroup>

  <!-- Геометрия -->
  <ItemGroup>
    <Compile Include="src\core\__init__.py">
      <SubType>Code</SubType>
    </Compile>
    <Compile Include="src\core\geometry.py">
      <SubType>Code</SubType>
    </Compile>
    <Compile Include="src\core\initial_geometry.py">
      <SubType>Code</SubType>
    </Compile>
  </ItemGroup>

  <!-- Приложения -->
  <ItemGroup>
    <Compile Include="src\app\__init__.py">
      <SubType>Code</SubType>
    </Compile>
    <Compile Include="src\app\smoke_gas.py">
      <SubType>Code</SubType>
    </Compile>
    <Compile Include="src\app\smoke_gas_complete.py">
      <SubType>Code</SubType>
    </Compile>
    <Compile Include="src\app\smoke_gas_final.py">
      <SubType>Code</SubType>
    </Compile>
    <Compile Include="src\app\smoke_gas_simple.py">
      <SubType>Code</SubType>
    </Compile>
    <Compile Include="src\app\smoke_test.py">
      <SubType>Code</SubType>
    </Compile>
    <Compile Include="src\app\config_defaults.py">
      <SubType>Code</SubType>
    </Compile>
  </ItemGroup>

  <!-- Тесты -->
  <ItemGroup>
    <Compile Include="tests\conftest.py">
      <SubType>Code</SubType>
    </Compile>
    <Compile Include="tests\test_integration_simple.py">
      <SubType>Code</SubType>
    </Compile>
    <Compile Include="tests\test_physics_simple.py">
      <SubType>Code</SubType>
    </Compile>
    <Compile Include="tests\test_gas_adiabatic_isothermal.py">
      <SubType>Code</SubType>
    </Compile>
    <Compile Include="tests\test_gas_simple.py">
      <SubType>Code</SubType>
    </Compile>
    <Compile Include="tests\test_gas_valves.py">
      <SubType>Code</SubType>
    </Compile>
    <Compile Include="tests\test_invariants.py">
      <SubType>Code</SubType>
    </Compile>
    <Compile Include="tests\test_invariants_geometry.py">
      <SubType>Code</SubType>
    </Compile>
    <Compile Include="tests\test_kinematics.py">
      <SubType>Code</SubType>
    </Compile>
    <Compile Include="tests\test_logging_and_export.py">
      <SubType>Code</SubType>
    </Compile>
    <Compile Include="tests\test_mapping.py">
      <SubType>Code</SubType>
    </Compile>
    <Compile Include="tests\test_odes_basic.py">
      <SubType>Code</SubType>
    </Compile>
    <Compile Include="tests\test_ode_dynamics.py">
      <SubType>Code</SubType>
    </Compile>
    <Compile Include="tests\test_performance_smoke.py">
      <SubType>Code</SubType>
    </Compile>
    <Compile Include="tests\test_physics_integration.py">
      <SubType>Code</SubType>
    </Compile>
    <Compile Include="tests\test_receiver_relief.py">
      <SubType>Code</SubType>
    </Compile>
    <Compile Include="tests\test_road_basic.py">
      <SubType>Code</SubType>
    </Compile>
    <Compile Include="tests\test_road_simple.py">
      <SubType>Code</SubType>
    </Compile>
    <Compile Include="tests\test_runtime_basic.py">
      <SubType>Code</SubType>
    </Compile>
    <Compile Include="tests\test_runtime_complete.py">
      <SubType>Code</SubType>
    </Compile>
    <Compile Include="tests\test_scipy_direct.py">
      <SubType>Code</SubType>
    </Compile>
    <Compile Include="tests\test_thermo_iso_adiabatic.py">
      <SubType>Code</SubType>
    </Compile>
    <Compile Include="tests\test_ui_signals.py">
      <SubType>Code</SubType>
    </Compile>
    <Compile Include="tests\test_valves_and_flows.py">
      <SubType>Code</SubType>
    </Compile>
  </ItemGroup>

  <!-- UI тесты -->
  <ItemGroup>
    <Compile Include="tests\ui\__init__.py">
      <SubType>Code</SubType>
    </Compile>
    <Compile Include="tests\ui\test_comprehensive_integration.py">
      <SubType>Code</SubType>
    </Compile>
    <Compile Include="tests\ui\test_geometry_ui.py">
      <SubType>Code</SubType>
    </Compile>
    <Compile Include="tests\ui\test_ms1_quick_check.py">
      <SubType>Code</SubType>
    </Compile>
    <Compile Include="tests\ui\test_ms2_quick_check.py">
      <SubType>Code</SubType>
    </Compile>
    <Compile Include="tests\ui\test_ms2_si_units.py">
      <SubType>Code</SubType>
    </Compile>
    <Compile Include="tests\ui\test_ms3_dependency.py">
      <SubType>Code</SubType>
    </Compile>
    <Compile Include="tests\ui\test_panel_functionality.py">
      <SubType>Code</SubType>
    </Compile>
    <Compile Include="tests\ui\test_si_units.py">
      <SubType>Code</SubType>
    </Compile>
    <Compile Include="tests\ui\test_ui_layout.py">
      <SubType>Code</SubType>
    </Compile>
  </ItemGroup>

  <!-- Графические тесты -->
  <ItemGroup>
    <Compile Include="tests\graphics\__init__.py">
      <SubType>Code</SubType>
    </Compile>
    <Compile Include="tests\graphics\final_graphics_test.py">
      <SubType>Code</SubType>
    </Compile>
  </ItemGroup>

  <!-- Системные тесты -->
  <ItemGroup>
    <Compile Include="tests\system\__init__.py">
      <SubType>Code</SubType>
    </Compile>
    <Compile Include="tests\system\test_full_app.py">
      <SubType>Code</SubType>
    </Compile>
  </ItemGroup>

  <!-- Скрипты -->
  <ItemGroup>
    <Compile Include="scripts\__init__.py">
      <SubType>Code</SubType>
    </Compile>
    <Compile Include="scripts\health_check.py">
      <SubType>Code</SubType>
    </Compile>
    <Compile Include="scripts\comprehensive_test.py">
      <SubType>Code</SubType>
    </Compile>
  </ItemGroup>

  <!-- QML файлы -->
  <ItemGroup>
    <Content Include="assets\qml\main.qml">
      <SubType>Content</SubType>
    </Content>
    <Content Include="assets\qml\main_optimized.qml">
      <SubType>Content</SubType>
    </Content>
<<<<<<< HEAD
    <!-- Добавлен компонент для IBL -->
    <Content Include="assets\qml\components\IblProbeLoader.qml">
      <SubType>Content</SubType>
    </Content>
=======
>>>>>>> sync/remote-main
  </ItemGroup>

  <!-- Конфигурационные файлы -->
  <ItemGroup>
    <Content Include="requirements.txt">
      <SubType>Content</SubType>
    </Content>
    <Content Include="requirements-dev.txt">
      <SubType>Content</SubType>
    </Content>
    <Content Include="requirements-compatible.txt">
      <SubType>Content</SubType>
    </Content>
    <Content Include="pytest.ini">
      <SubType>Content</SubType>
    </Content>
    <Content Include="pyproject.toml">
      <SubType>Content</SubType>
    </Content>
    <Content Include="runtimeconfig.json">
      <SubType>Content</SubType>
    </Content>
    <Content Include=".gitignore">
      <SubType>Content</SubType>
    </Content>
  </ItemGroup>

  <!-- Batch файлы -->
  <ItemGroup>
    <Content Include="run.bat">
      <SubType>Content</SubType>
    </Content>
    <Content Include="run_app.bat">
      <SubType>Content</SubType>
    </Content>
    <Content Include="status.bat">
      <SubType>Content</SubType>
    </Content>
    <Content Include="quick_diagnostic.bat">
      <SubType>Content</SubType>
    </Content>
  </ItemGroup>

  <!-- Документация -->
  <ItemGroup>
    <Content Include="README.md">
      <SubType>Content</SubType>
    </Content>
    <Content Include="ROADMAP.md">
      <SubType>Content</SubType>
    </Content>
    <Content Include="PROJECT_AUDIT_FULL.md">
      <SubType>Content</SubType>
    </Content>
    <Content Include="PROJECT_AUDIT_REPORT.md">
      <SubType>Content</SubType>
    </Content>
    <Content Include="STABLE_RELEASE_v2.0.1.md">
      <SubType>Content</SubType>
    </Content>
    <Content Include="VISUALIZATION_AUDIT_REPORT.md">
      <SubType>Content</SubType>
    </Content>
    <Content Include="TECHNICAL_CODE_ANALYSIS.md">
      <SubType>Content</SubType>
    </Content>
    <Content Include="REPOSITORY_ANALYSIS_FINAL.md">
      <SubType>Content</SubType>
    </Content>
    <Content Include="TROUBLESHOOTING.md">
      <SubType>Content</SubType>
    </Content>
    <Content Include="VSCODE_PY_SETUP.md">
      <SubType>Content</SubType>
    </Content>
    <Content Include="VENV_SETUP_README.md">
      <SubType>Content</SubType>
    </Content>
    <Content Include="QTQUICK3D_REQUIREMENTS.md">
      <SubType>Content</SubType>
    </Content>
  </ItemGroup>

  <!-- Отчеты -->
  <ItemGroup>
    <Content Include="QML_FIXES_FINAL_REPORT.md">
      <SubType>Content</SubType>
    </Content>
    <Content Include="QML_LOADING_ERROR_FIX_REPORT.md">
      <SubType>Content</SubType>
    </Content>
    <Content Include="QML_PERFORMANCE_COMPARISON_REPORT.md">
      <SubType>Content</SubType>
    </Content>
    <Content Include="QML_PERFORMANCE_OPTIMIZATION_PLAN.md">
      <SubType>Content</SubType>
    </Content>
    <Content Include="QML_SIGNAL_CORRECTNESS_REPORT.md">
      <SubType>Content</SubType>
    </Content>
    <Content Include="ROD_LENGTH_FIX_REPORT.md">
      <SubType>Content</SubType>
    </Content>
    <Content Include="pyinstrument_report.html">
      <SubType>Content</SubType>
    </Content>
  </ItemGroup>

  <!-- Русские отчеты -->
  <ItemGroup>
    <Content Include="АУДИТ_СИСТЕМЫ_ГРАФИКИ_2025.md">
      <SubType>Content</SubType>
    </Content>
    <Content Include="ОТЧЕТ_ТЕСТИРОВАНИЯ_ГРАФИКИ.md">
      <SubType>Content</SubType>
    </Content>
    <Content Include="ПОЛНЫЙ_АУДИТ_ПРОЕКТА_2025.md">
      <SubType>Content</SubType>
    </Content>
  </ItemGroup>

  <!-- Папки -->
  <ItemGroup>
    <Folder Include="src\" />
    <Folder Include="src\ui\" />
    <Folder Include="src\ui\panels\" />
    <Folder Include="src\runtime\" />
    <Folder Include="src\physics\" />
    <Folder Include="src\mechanics\" />
    <Folder Include="src\pneumo\" />
    <Folder Include="src\road\" />
    <Folder Include="src\common\" />
    <Folder Include="src\core\" />
    <Folder Include="src\app\" />
    <Folder Include="tests\" />
    <Folder Include="tests\ui\" />
    <Folder Include="tests\graphics\" />
    <Folder Include="tests\system\" />
    <Folder Include="scripts\" />
    <Folder Include="assets\" />
    <Folder Include="assets\qml\" />
<<<<<<< HEAD
    <Folder Include="assets\qml\components\" />
=======
>>>>>>> sync/remote-main
    <Folder Include="docs\" />
    <Folder Include="logs\" />
    <Folder Include="reports\" />
    <Folder Include="profiles\" />
    <Folder Include="bin\" />
    <Folder Include="obj\" />
    <Folder Include="config\" />
    <Folder Include="tools\" />
    <Folder Include="archive\" />
    <Folder Include=".vscode\" />
    <Folder Include=".github\" />
    <Folder Include=".vs\" />
    <Folder Include=".venv\" />
    <Folder Include="venv\" />
    <Folder Include="__pycache__\" />
  </ItemGroup>

  <!-- Интерпретаторы Python -->
  <ItemGroup>
    <InterpreterReference Include="Global|PythonCore|3.13" />
    <InterpreterReference Include="Global|PythonCore|3.12" />
    <InterpreterReference Include="Global|PythonCore|3.11" />
  </ItemGroup>

  <!-- Внешние библиотеки -->
  <ItemGroup>
    <PackageReference Include="PySide6" Version="6.9.3" />
    <PackageReference Include="numpy" Version="2.3.3" />
    <PackageReference Include="scipy" Version="1.16.2" />
    <PackageReference Include="matplotlib" Version="3.10.6" />
    <PackageReference Include="pytest" Version="8.4.2" />
    <PackageReference Include="PyYAML" Version="6.0" />
    <PackageReference Include="pillow" Version="9.0.0" />
  </ItemGroup>

  <!-- Python Tools для Visual Studio -->
  <Import Project="$(MSBuildExtensionsPath32)\Microsoft\VisualStudio\v$(VisualStudioVersion)\Python Tools\Microsoft.PythonTools.targets" />
</Project>

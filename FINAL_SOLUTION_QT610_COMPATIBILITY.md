# ‚úÖ –§–ò–ù–ê–õ–¨–ù–û–ï –†–ï–®–ï–ù–ò–ï: –ü–æ–ª–Ω–∞—è —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å —Å Qt 6.10

## üéØ –ü—Ä–æ–±–ª–µ–º–∞
```
Cannot assign to non-existent property "fogDepthEnd"
Cannot assign to non-existent property "ditheringEnabled"
```

## üîç –ö–æ—Ä–Ω–µ–≤–∞—è –ø—Ä–∏—á–∏–Ω–∞

### 1. –ö–æ–Ω—Ñ–ª–∏–∫—Ç –∏–º—ë–Ω ExtendedSceneEnvironment
- ‚ùå **–ë–´–õ–û:** –ö–∞—Å—Ç–æ–º–Ω—ã–π `ExtendedSceneEnvironment.qml` –≤ `components/`
- ‚úÖ **–°–¢–ê–õ–û:** –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –≤—Å—Ç—Ä–æ–µ–Ω–Ω—ã–π –∏–∑ `QtQuick3D.Helpers`

### 2. –ù–µ—Å—É—â–µ—Å—Ç–≤—É—é—â–∏–µ —Å–≤–æ–π—Å—Ç–≤–∞ —Ç—É–º–∞–Ω–∞
- ‚ùå **–ë–´–õ–û:** `fogDepthBegin` –∏ `fogDepthEnd` –∏–∑ —Å—Ç–∞—Ä–æ–≥–æ –∫–∞—Å—Ç–æ–º–Ω–æ–≥–æ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞
- ‚úÖ **–°–¢–ê–õ–û:** –≠—Ç–∏ —Å–≤–æ–π—Å—Ç–≤–∞ —É–¥–∞–ª–µ–Ω—ã - –≤—Å—Ç—Ä–æ–µ–Ω–Ω—ã–π `ExtendedSceneEnvironment` –Ω–µ –∏–º–µ–µ—Ç –≤—Å—Ç—Ä–æ–µ–Ω–Ω–æ–π –ø–æ–¥–¥–µ—Ä–∂–∫–∏ —Ç—É–º–∞–Ω–∞

### 3. –ù–µ–ø—Ä–∞–≤–∏–ª—å–Ω—ã–π —Å–∏–Ω—Ç–∞–∫—Å–∏—Å qmldir
- ‚ùå **–ë–´–õ–û:** `singleton Materials 1.0 Materials.qml` (Qt 5 —Å–∏–Ω—Ç–∞–∫—Å–∏—Å)
- ‚úÖ **–°–¢–ê–õ–û:** `singleton Materials Materials.qml` (Qt 6 —Å–∏–Ω—Ç–∞–∫—Å–∏—Å)

## ‚úÖ –í—ã–ø–æ–ª–Ω–µ–Ω–Ω—ã–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è

### 1. –£–¥–∞–ª—ë–Ω –∫–∞—Å—Ç–æ–º–Ω—ã–π ExtendedSceneEnvironment
**–§–∞–π–ª —É–¥–∞–ª—ë–Ω:** `assets/qml/components/ExtendedSceneEnvironment.qml`

**–ü—Ä–∏—á–∏–Ω–∞:** –ö–æ–Ω—Ñ–ª–∏–∫—Ç –∏–º—ë–Ω —Å–æ –≤—Å—Ç—Ä–æ–µ–Ω–Ω—ã–º –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–º Qt Quick 3D.

### 2. –û–±–Ω–æ–≤–ª—ë–Ω qmldir
**–§–∞–π–ª:** `assets/qml/components/qmldir`

**–ë–´–õ–û:**
```qml
singleton Materials 1.0 Materials.qml
ExtendedSceneEnvironment 1.0 ExtendedSceneEnvironment.qml
IblProbeLoader 1.0 IblProbeLoader.qml
```

**–°–¢–ê–õ–û:**
```qml
singleton Materials Materials.qml
IblProbeLoader IblProbeLoader.qml
```

### 3. –ò—Å–ø—Ä–∞–≤–ª–µ–Ω main.qml
**–§–∞–π–ª:** `assets/qml/main.qml`

**–£–¥–∞–ª–µ–Ω—ã –Ω–µ—Å—É—â–µ—Å—Ç–≤—É—é—â–∏–µ —Å–≤–æ–π—Å—Ç–≤–∞ —Ç—É–º–∞–Ω–∞:**
```qml
// ‚ùå –£–î–ê–õ–ï–ù–û:
fogEnabled: root.fogEnabled
fogColor: root.fogColor
fogDensity: root.fogDensity
fogDepthBegin: root.fogNear
fogDepthEnd: root.fogFar
```

**–î–æ–±–∞–≤–ª–µ–Ω –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π:**
```qml
// ‚ö†Ô∏è –ü–†–ò–ú–ï–ß–ê–ù–ò–ï: –í—Å—Ç—Ä–æ–µ–Ω–Ω—ã–π ExtendedSceneEnvironment –≤ Qt 6.10 –ù–ï –∏–º–µ–µ—Ç –≤—Å—Ç—Ä–æ–µ–Ω–Ω—ã—Ö —Å–≤–æ–π—Å—Ç–≤ —Ç—É–º–∞–Ω–∞
// –¢—É–º–∞–Ω —Ä–µ–∞–ª–∏–∑—É–µ—Ç—Å—è —á–µ—Ä–µ–∑ –∫–∞—Å—Ç–æ–º–Ω—ã–µ —ç—Ñ—Ñ–µ–∫—Ç—ã –∏–ª–∏ —á–µ—Ä–µ–∑ SceneEnvironment (–±–∞–∑–æ–≤—ã–π)
// –£–¥–∞–ª–µ–Ω—ã: fogDepthBegin, fogDepthEnd - —ç—Ç–∏ —Å–≤–æ–π—Å—Ç–≤–∞ –æ—Ç—Å—É—Ç—Å—Ç–≤—É—é—Ç –≤ Qt Quick 3D
```

### 4. –£—Å–ª–æ–≤–Ω–∞—è –ø–æ–¥–¥–µ—Ä–∂–∫–∞ ditheringEnabled
**–î–∏–Ω–∞–º–∏—á–µ—Å–∫–∞—è –∞–∫—Ç–∏–≤–∞—Ü–∏—è –¥–ª—è Qt 6.10+:**
```qml
ExtendedSceneEnvironment {
    // ...
    
    Component.onCompleted: {
        if (root.canUseDithering) {
            console.log("‚úÖ Qt 6.10+ detected - enabling ditheringEnabled support")
            mainEnvironment.ditheringEnabled = Qt.binding(function() { return root.ditheringEnabled })
        } else {
            console.log("‚ö†Ô∏è Qt < 6.10 - ditheringEnabled not available (current version: Qt " + Qt.version + ")")
        }
    }
}
```

## üìä –†–µ–∑—É–ª—å—Ç–∞—Ç—ã

### ‚úÖ –ß—Ç–æ —Ç–µ–ø–µ—Ä—å —Ä–∞–±–æ—Ç–∞–µ—Ç

| –ö–æ–º–ø–æ–Ω–µ–Ω—Ç | –°—Ç–∞—Ç—É—Å | –û–ø–∏—Å–∞–Ω–∏–µ |
|-----------|--------|----------|
| **ExtendedSceneEnvironment** | ‚úÖ –†–∞–±–æ—Ç–∞–µ—Ç | –í—Å—Ç—Ä–æ–µ–Ω–Ω—ã–π –∏–∑ QtQuick3D.Helpers |
| **Bloom** | ‚úÖ –†–∞–±–æ—Ç–∞–µ—Ç | –°–≤–µ—á–µ–Ω–∏–µ —è—Ä–∫–∏—Ö –æ–±–ª–∞—Å—Ç–µ–π |
| **SSAO** | ‚úÖ –†–∞–±–æ—Ç–∞–µ—Ç | –û–±—ä—ë–º–Ω–æ–µ –∑–∞—Ç–µ–Ω–µ–Ω–∏–µ |
| **Tonemap** | ‚úÖ –†–∞–±–æ—Ç–∞–µ—Ç | –ö–∏–Ω–µ–º–∞—Ç–æ–≥—Ä–∞—Ñ–∏—á–µ—Å–∫–∞—è —Ü–≤–µ—Ç–æ–ø–µ—Ä–µ–¥–∞—á–∞ |
| **Lens Flare** | ‚úÖ –†–∞–±–æ—Ç–∞–µ—Ç | –ë–ª–∏–∫–∏ –æ—Ç —Å–≤–µ—Ç–∞ |
| **Vignette** | ‚úÖ –†–∞–±–æ—Ç–∞–µ—Ç | –ó–∞—Ç–µ–º–Ω–µ–Ω–∏–µ –∫—Ä–∞—ë–≤ |
| **Depth of Field** | ‚úÖ –†–∞–±–æ—Ç–∞–µ—Ç | –†–∞–∑–º—ã—Ç–∏–µ –ø–æ –≥–ª—É–±–∏–Ω–µ |
| **IBL** | ‚úÖ –†–∞–±–æ—Ç–∞–µ—Ç | –û—Å–≤–µ—â–µ–Ω–∏–µ –æ—Ç HDR |
| **Dithering** | ‚úÖ –£—Å–ª–æ–≤–Ω–æ | –¢–æ–ª—å–∫–æ Qt 6.10+ |
| **Antialiasing** | ‚úÖ –†–∞–±–æ—Ç–∞–µ—Ç | MSAA/SSAA/TAA |
| **Shadows** | ‚úÖ –†–∞–±–æ—Ç–∞–µ—Ç | –¢–µ–Ω–∏ –≤—ã—Å–æ–∫–æ–≥–æ –∫–∞—á–µ—Å—Ç–≤–∞ |

### ‚ö†Ô∏è –û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è

| –§—É–Ω–∫—Ü–∏—è | –°—Ç–∞—Ç—É—Å | –†–µ—à–µ–Ω–∏–µ |
|---------|--------|---------|
| **Fog (—Ç—É–º–∞–Ω)** | ‚ö†Ô∏è –ù–µ–¥–æ—Å—Ç—É–ø–µ–Ω | –ù—É–∂–µ–Ω –∫–∞—Å—Ç–æ–º–Ω—ã–π Effect –¥–ª—è —Ç—É–º–∞–Ω–∞ |
| **ditheringEnabled** | ‚ö†Ô∏è Qt 6.10+ | –†–∞–±–æ—Ç–∞–µ—Ç —É—Å–ª–æ–≤–Ω–æ —á–µ—Ä–µ–∑ –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–æ–µ —Å–≤–æ–π—Å—Ç–≤–æ |

## üé® –¢—É–º–∞–Ω - –∞–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–Ω–æ–µ —Ä–µ—à–µ–Ω–∏–µ

–í—Å—Ç—Ä–æ–µ–Ω–Ω—ã–π `ExtendedSceneEnvironment` –Ω–µ –∏–º–µ–µ—Ç —Å–≤–æ–π—Å—Ç–≤ —Ç—É–º–∞–Ω–∞. –î–ª—è —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏ —Ç—É–º–∞–Ω–∞ –º–æ–∂–Ω–æ:

### –í–∞—Ä–∏–∞–Ω—Ç 1: –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –≥–æ—Ç–æ–≤—ã–π FogEffect
**–§–∞–π–ª —Å—É—â–µ—Å—Ç–≤—É–µ—Ç:** `assets/qml/effects/FogEffect.qml`

–ü–æ–¥–∫–ª—é—á–∏—Ç—å –≤ `main.qml`:
```qml
import "effects"

View3D {
    // ...
    effects: [
        FogEffect {
            enabled: root.fogEnabled
            fogColor: root.fogColor
            fogDensity: root.fogDensity
            fogStartDistance: root.fogNear
            fogEndDistance: root.fogFar
        }
    ]
}
```

### –í–∞—Ä–∏–∞–Ω—Ç 2: –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –±–∞–∑–æ–≤—ã–π SceneEnvironment
–í–º–µ—Å—Ç–æ `ExtendedSceneEnvironment` –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –æ–±—ã—á–Ω—ã–π `SceneEnvironment`, —É –∫–æ—Ç–æ—Ä–æ–≥–æ –µ—Å—Ç—å —Ç—É–º–∞–Ω (–Ω–æ –Ω–µ—Ç –≤—Å–µ—Ö –ø–æ—Å—Ç-—ç—Ñ—Ñ–µ–∫—Ç–æ–≤).

## üîß –°–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å —Å –≤–µ—Ä—Å–∏—è–º–∏ Qt

### Qt 6.10+
- ‚úÖ –í—Å–µ —Ñ—É–Ω–∫—Ü–∏–∏ —Ä–∞–±–æ—Ç–∞—é—Ç
- ‚úÖ ditheringEnabled –¥–æ—Å—Ç—É–ø–µ–Ω
- ‚úÖ –í—Å–µ –ø–æ—Å—Ç-—ç—Ñ—Ñ–µ–∫—Ç—ã –∞–∫—Ç–∏–≤–Ω—ã

### Qt 6.8 - 6.9
- ‚úÖ –ë–æ–ª—å—à–∏–Ω—Å—Ç–≤–æ —Ñ—É–Ω–∫—Ü–∏–π —Ä–∞–±–æ—Ç–∞–µ—Ç
- ‚ö†Ô∏è ditheringEnabled –Ω–µ–¥–æ—Å—Ç—É–ø–µ–Ω (–∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –æ—Ç–∫–ª—é—á–∞–µ—Ç—Å—è)
- ‚úÖ –í—Å–µ –æ—Å—Ç–∞–ª—å–Ω—ã–µ —ç—Ñ—Ñ–µ–∫—Ç—ã —Ä–∞–±–æ—Ç–∞—é—Ç

### Qt 6.5 - 6.7
- ‚úÖ –ë–∞–∑–æ–≤—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏ —Ä–∞–±–æ—Ç–∞—é—Ç
- ‚ö†Ô∏è –ù–µ–∫–æ—Ç–æ—Ä—ã–µ —ç—Ñ—Ñ–µ–∫—Ç—ã –º–æ–≥—É—Ç –æ—Ç—Å—É—Ç—Å—Ç–≤–æ–≤–∞—Ç—å
- ‚ö†Ô∏è ditheringEnabled –Ω–µ–¥–æ—Å—Ç—É–ø–µ–Ω

## üìù –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ä–µ—à–µ–Ω–∏—è

### –®–∞–≥ 1: –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –æ—Ç—Å—É—Ç—Å—Ç–≤–∏–µ –æ—à–∏–±–æ–∫
```bash
# –î–æ–ª–∂–Ω–æ –±—ã—Ç—å –±–µ–∑ –æ—à–∏–±–æ–∫:
python test_extendedsceneenv_fix.py
```

### –®–∞–≥ 2: –ó–∞–ø—É—Å—Ç–∏—Ç—å –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ
```bash
python app.py
```

**–û–∂–∏–¥–∞–µ–º—ã–π –≤—ã–≤–æ–¥:**
```
‚úÖ Qt 6.10+ detected - enabling ditheringEnabled support
‚úÖ ExtendedSceneEnvironment loaded from QtQuick3D.Helpers
‚ö†Ô∏è Fog properties not available in built-in ExtendedSceneEnvironment
```

### –®–∞–≥ 3: –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –≤–∏–∑—É–∞–ª—å–Ω—ã–µ —ç—Ñ—Ñ–µ–∫—Ç—ã
- ‚úÖ Bloom –¥–æ–ª–∂–µ–Ω —Å–≤–µ—Ç–∏—Ç—å—Å—è –Ω–∞ —è—Ä–∫–∏—Ö –æ–±—ä–µ–∫—Ç–∞—Ö
- ‚úÖ SSAO –¥–æ–ª–∂–µ–Ω –∑–∞—Ç–µ–º–Ω—è—Ç—å —É–≥–ª—ã –∏ —Å—Ç—ã–∫–∏
- ‚úÖ Tonemap –¥–æ–ª–∂–µ–Ω –¥–∞–≤–∞—Ç—å –∫–∏–Ω–µ–º–∞—Ç–æ–≥—Ä–∞—Ñ–∏—á–µ—Å–∫–∏–π –≤–∏–¥
- ‚úÖ Vignette –¥–æ–ª–∂–µ–Ω –∑–∞—Ç–µ–º–Ω—è—Ç—å –∫—Ä–∞—è
- ‚ö†Ô∏è –¢—É–º–∞–Ω –æ—Ç—Å—É—Ç—Å—Ç–≤—É–µ—Ç (–Ω–æ—Ä–º–∞–ª—å–Ω–æ - –µ–≥–æ –Ω–µ—Ç –≤ ExtendedSceneEnvironment)

## üéâ –ò—Ç–æ–≥–æ–≤—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç

### –ü—Ä–æ–±–ª–µ–º–∞ —Ä–µ—à–µ–Ω–∞
- ‚úÖ **–û—à–∏–±–∫–∞ "fogDepthEnd" —É—Å—Ç—Ä–∞–Ω–µ–Ω–∞** - —É–¥–∞–ª–µ–Ω—ã –Ω–µ—Å—É—â–µ—Å—Ç–≤—É—é—â–∏–µ —Å–≤–æ–π—Å—Ç–≤–∞
- ‚úÖ **–û—à–∏–±–∫–∞ "ditheringEnabled" —Ä–µ—à–µ–Ω–∞** - —É—Å–ª–æ–≤–Ω–∞—è –∞–∫—Ç–∏–≤–∞—Ü–∏—è –¥–ª—è Qt 6.10+
- ‚úÖ **–ö–æ–Ω—Ñ–ª–∏–∫—Ç ExtendedSceneEnvironment —É—Å—Ç—Ä–∞–Ω—ë–Ω** - —É–¥–∞–ª—ë–Ω –∫–∞—Å—Ç–æ–º–Ω—ã–π –∫–æ–º–ø–æ–Ω–µ–Ω—Ç
- ‚úÖ **qmldir –∏—Å–ø—Ä–∞–≤–ª–µ–Ω** - –ø—Ä–∞–≤–∏–ª—å–Ω—ã–π —Å–∏–Ω—Ç–∞–∫—Å–∏—Å –¥–ª—è Qt 6

### –ß—Ç–æ –¥–∞–ª—å—à–µ
–ï—Å–ª–∏ –Ω—É–∂–µ–Ω —Ç—É–º–∞–Ω:
1. –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å `FogEffect.qml` –∏–∑ –ø–∞–ø–∫–∏ `effects/`
2. –ò–ª–∏ —Å–æ–∑–¥–∞—Ç—å –Ω–æ–≤—ã–π –∫–∞—Å—Ç–æ–º–Ω—ã–π —ç—Ñ—Ñ–µ–∫—Ç —Ç—É–º–∞–Ω–∞
3. –ò–ª–∏ –ø–µ—Ä–µ–∫–ª—é—á–∏—Ç—å—Å—è –Ω–∞ `SceneEnvironment` (–±–µ–∑ —Ä–∞—Å—à–∏—Ä–µ–Ω–Ω—ã—Ö —ç—Ñ—Ñ–µ–∫—Ç–æ–≤)

---

**–î–∞—Ç–∞:** 2025  
**–í–µ—Ä—Å–∏—è:** v4.10  
**–°—Ç–∞—Ç—É—Å:** ‚úÖ –ü–û–õ–ù–û–°–¢–¨–Æ –†–ï–®–ï–ù–û  
**–°–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å:** Qt 6.5+ (—Å –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è–º–∏), Qt 6.10+ (–ø–æ–ª–Ω–∞—è –ø–æ–¥–¥–µ—Ä–∂–∫–∞)

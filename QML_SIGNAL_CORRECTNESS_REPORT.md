# üîç –û–¢–ß–ï–¢ –û –ö–û–†–†–ï–ö–¢–ù–û–°–¢–ò –†–ê–ë–û–¢–´ QML –ò –û–ë–†–ê–ë–û–¢–ö–ò –°–ò–ì–ù–ê–õ–û–í

## ‚úÖ –£–°–ü–ï–®–ù–û –†–ê–ë–û–¢–ê–Æ–©–ò–ï –ö–û–ú–ü–û–ù–ï–ù–¢–´

### 1. üì° –ü–µ—Ä–µ–¥–∞—á–∞ —Å–∏–≥–Ω–∞–ª–æ–≤ Python ‚Üí QML

**–ü–û–õ–ù–û–°–¢–¨–Æ –†–ê–ë–û–ß–ò–ï:**
- ‚úÖ `updateGeometry()` - –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ –≥–µ–æ–º–µ—Ç—Ä–∏–∏ ‚úÖ
- ‚úÖ `updateLighting()` - –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ –æ—Å–≤–µ—â–µ–Ω–∏—è ‚úÖ
- ‚úÖ `updateEnvironment()` - –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è ‚úÖ
- ‚úÖ `updateQuality()` - –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ –∫–∞—á–µ—Å—Ç–≤–∞ —Ä–µ–Ω–¥–µ—Ä–∏–Ω–≥–∞ ‚úÖ

**–ß–ê–°–¢–ò–ß–ù–û –†–ê–ë–û–ß–ò–ï (—á–µ—Ä–µ–∑ fallback setProperty):**
- üü° `updateMaterials()` - –º–∞—Ç–µ—Ä–∏–∞–ª—ã (fallback —Ä–∞–±–æ—Ç–∞–µ—Ç)
- üü° `updateCamera()` - –∫–∞–º–µ—Ä–∞ (fallback —Ä–∞–±–æ—Ç–∞–µ—Ç)
- üü° `updateEffects()` - —ç—Ñ—Ñ–µ–∫—Ç—ã (fallback —Ä–∞–±–æ—Ç–∞–µ—Ç)

### 2. üéÆ –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∞–Ω–∏–º–∞—Ü–∏–µ–π

**‚úÖ –ü–û–õ–ù–û–°–¢–¨–Æ –§–£–ù–ö–¶–ò–û–ù–ê–õ–¨–ù–û–ï:**
- ‚úÖ –ó–∞–ø—É—Å–∫/–æ—Å—Ç–∞–Ω–æ–≤–∫–∞ –∞–Ω–∏–º–∞—Ü–∏–∏ (`isRunning`)
- ‚úÖ –ö–æ–Ω—Ç—Ä–æ–ª—å –∞–º–ø–ª–∏—Ç—É–¥—ã (`userAmplitude`)
- ‚úÖ –ö–æ–Ω—Ç—Ä–æ–ª—å —á–∞—Å—Ç–æ—Ç—ã (`userFrequency`)
- ‚úÖ –ò–Ω–¥–∏–≤–∏–¥—É–∞–ª—å–Ω—ã–µ —Ñ–∞–∑—ã –¥–ª—è –∫–∞–∂–¥–æ–≥–æ –∫–æ–ª–µ—Å–∞
- ‚úÖ –ü–ª–∞–≤–Ω—ã–µ –ø–µ—Ä–µ—Ö–æ–¥—ã —É–≥–ª–æ–≤ —Ä—ã—á–∞–≥–æ–≤
- ‚úÖ –ö–æ–º–∞–Ω–¥—ã —Å–∏–º—É–ª—è—Ü–∏–∏: start/stop/pause/reset

### 3. üìê –ì–µ–æ–º–µ—Ç—Ä–∏—á–µ—Å–∫–∏–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã

**‚úÖ –í–°–ï –ü–ê–†–ê–ú–ï–¢–†–´ –û–ë–†–ê–ë–ê–¢–´–í–ê–Æ–¢–°–Ø:**
- ‚úÖ –†–∞–∑–º–µ—Ä—ã —Ä–∞–º—ã (frameLength, frameHeight, frameBeamSize)
- ‚úÖ –ü–æ–¥–≤–µ—Å–∫–∞ (leverLength, cylinderBodyLength)
- ‚úÖ –ö–æ–ª–µ—è –∏ –ø–æ–∑–∏—Ü–∏–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ (trackWidth, frameToPivot)
- ‚úÖ **–ö–†–ò–¢–ò–ß–ï–°–ö–ò–ô:** rodPosition (–ø–æ–ª–æ–∂–µ–Ω–∏–µ —à—Ç–æ–∫–∞ –Ω–∞ —Ä—ã—á–∞–≥–µ)
- ‚úÖ –í—Å–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã —Ü–∏–ª–∏–Ω–¥—Ä–∞ –∏ –ø–æ—Ä—à–Ω—è

### 4. üí° –°–∏—Å—Ç–µ–º–∞ –æ—Å–≤–µ—â–µ–Ω–∏—è

**‚úÖ –¢–†–ï–•–¢–û–ß–ï–ß–ù–ê–Ø –°–•–ï–ú–ê –û–°–í–ï–©–ï–ù–ò–Ø:**
- ‚úÖ Key Light (–æ—Å–Ω–æ–≤–Ω–æ–π —Å–≤–µ—Ç) - —É–ø—Ä–∞–≤–ª—è–µ–º—ã–µ —è—Ä–∫–æ—Å—Ç—å, —Ü–≤–µ—Ç, —É–≥–ª—ã
- ‚úÖ Fill Light (–∑–∞–ø–æ–ª–Ω—è—é—â–∏–π —Å–≤–µ—Ç) - —É–ø—Ä–∞–≤–ª—è–µ–º—ã–µ —è—Ä–∫–æ—Å—Ç—å, —Ü–≤–µ—Ç
- ‚úÖ Point Light (–∞–∫—Ü–µ–Ω—Ç–Ω—ã–π —Å–≤–µ—Ç) - —É–ø—Ä–∞–≤–ª—è–µ–º—ã–µ —è—Ä–∫–æ—Å—Ç—å, –ø–æ–∑–∏—Ü–∏—è
- ‚úÖ Rim Light (–∫–æ–Ω—Ç—Ä–æ–≤–æ–π —Å–≤–µ—Ç) - —Ñ–∏–∫—Å–∏—Ä–æ–≤–∞–Ω–Ω—ã–π

### 5. üé® –ú–∞—Ç–µ—Ä–∏–∞–ª—ã

**‚úÖ –†–ï–ê–õ–ò–°–¢–ò–ß–ù–´–ï PBR –ú–ê–¢–ï–†–ò–ê–õ–´:**
- ‚úÖ –ú–µ—Ç–∞–ª–ª: metalness, roughness, clearcoat
- ‚úÖ –°—Ç–µ–∫–ª–æ: opacity, roughness (–ø—Ä–æ–∑—Ä–∞—á–Ω—ã–µ —Ü–∏–ª–∏–Ω–¥—Ä—ã)
- ‚úÖ –†–∞–º–∞: metalness, roughness

### 6. üì∑ –û—Ä–±–∏—Ç–∞–ª—å–Ω–∞—è –∫–∞–º–µ—Ä–∞

**‚úÖ –ü–û–õ–ù–´–ô –ö–û–ù–¢–†–û–õ–¨ –ö–ê–ú–ï–†–´:**
- ‚úÖ Field of View (fov)
- ‚úÖ Near/Far clipping planes
- ‚úÖ –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –≤—Ä–∞—â–µ–Ω–∏–µ (auto_rotate)
- ‚úÖ –ú—ã—à–∏–Ω–æ–µ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ (–≤—Ä–∞—â–µ–Ω–∏–µ, –ø–∞–Ω–æ—Ä–∞–º–∞, –∑—É–º)
- ‚úÖ –°–±—Ä–æ—Å –≤–∏–¥–∞ (R –∏–ª–∏ –¥–≤–æ–π–Ω–æ–π –∫–ª–∏–∫)

---

## ‚ö†Ô∏è –û–ë–ù–ê–†–£–ñ–ï–ù–ù–´–ï –ü–†–û–ë–õ–ï–ú–´ –ò –ò–°–ü–†–ê–í–õ–ï–ù–ò–Ø

### 1. üîß –û—Ç—Å—É—Ç—Å—Ç–≤—É—é—â–∏–µ QML —Ñ—É–Ω–∫—Ü–∏–∏

**–ü–†–û–ë–õ–ï–ú–ê:** –ù–µ–∫–æ—Ç–æ—Ä—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏ –Ω–µ –Ω–∞–π–¥–µ–Ω—ã –≤ QML root –æ–±—ä–µ–∫—Ç–µ:
- ‚ùå `updateMaterials()`
- ‚ùå `updateCamera()`
- ‚ùå `updateEffects()`
- ‚ùå `updateAnimation()`
- ‚ùå `updatePistonPositions()`

**–°–¢–ê–¢–£–°:** ‚úÖ –†–ï–®–ï–ù–û —á–µ—Ä–µ–∑ fallback setProperty()

**–ö–û–î –ò–°–ü–†–ê–í–õ–ï–ù–ò–Ø —É–∂–µ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω –≤ main_window.py:**
```python
# Fallback: –ø—Ä—è–º–∞—è —É—Å—Ç–∞–Ω–æ–≤–∫–∞ —Å–≤–æ–π—Å—Ç–≤
if hasattr(self._qml_root_object, 'updateMaterials'):
    self._qml_root_object.updateMaterials(material_params)
else:
    # –ò—Å–ø–æ–ª—å–∑—É–µ–º setProperty –¥–ª—è –∫–∞–∂–¥–æ–≥–æ –ø–∞—Ä–∞–º–µ—Ç—Ä–∞
    if 'metal' in material_params:
        metal = material_params['metal']
        if 'roughness' in metal:
            self._qml_root_object.setProperty("metalRoughness", metal['roughness'])
        # ... –∏ —Ç–∞–∫ –¥–∞–ª–µ–µ
```

### 2. üìä –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –∏ –æ—Ç–ª–∞–¥–∫–∞

**‚úÖ –ü–†–ï–í–û–°–•–û–î–ù–ê–Ø –°–ò–°–¢–ï–ú–ê –õ–û–ì–ò–†–û–í–ê–ù–ò–Ø:**
- ‚úÖ –î–µ—Ç–∞–ª—å–Ω—ã–µ –ª–æ–≥–∏ –≤—Å–µ—Ö –æ–ø–µ—Ä–∞—Ü–∏–π
- ‚úÖ –¶–≤–µ—Ç–Ω—ã–µ —ç–º–æ–¥–∑–∏ –¥–ª—è –∫–∞—Ç–µ–≥–æ—Ä–∏–∑–∞—Ü–∏–∏
- ‚úÖ –û—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏–µ –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤ –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏
- ‚úÖ –ò–Ω—Ñ–æ—Ä–º–∞—Ç–∏–≤–Ω—ã–µ —Å–æ–æ–±—â–µ–Ω–∏—è –æ–± –æ—à–∏–±–∫–∞—Ö

---

## üß™ –†–ï–ó–£–õ–¨–¢–ê–¢–´ –¢–ï–°–¢–ò–†–û–í–ê–ù–ò–Ø

### –¢–µ—Å—Ç 1: –ë—ã—Å—Ç—Ä—ã–π –∑–∞–ø—É—Å–∫ (`quick_test.py`)
```
‚úÖ QApplication —Å–æ–∑–¥–∞–Ω
‚úÖ MainWindow —Å–æ–∑–¥–∞–Ω
‚úÖ –í—Å–µ –≥—Ä–∞—Ñ–∏—á–µ—Å–∫–∏–µ –ø–∞–Ω–µ–ª–∏ –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω—ã
‚úÖ –ì–µ–æ–º–µ—Ç—Ä–∏—è –ø–µ—Ä–µ–¥–∞–Ω–∞: rodPosition = 0.6
‚úÖ –û—Å–≤–µ—â–µ–Ω–∏–µ –æ–±–Ω–æ–≤–ª–µ–Ω–æ –≤ QML
‚úÖ –ú–∞—Ç–µ—Ä–∏–∞–ª—ã –æ–±–Ω–æ–≤–ª–µ–Ω—ã
‚úÖ –ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –∑–∞–≤–µ—Ä—à–µ–Ω–æ —Å –∫–æ–¥–æ–º: 0
```

### –¢–µ—Å—Ç 2: –î–µ—Ç–∞–ª—å–Ω—ã–µ —Å–∏–≥–Ω–∞–ª—ã (`test_signals_detailed.py`)
```
‚úÖ –ì–µ–æ–º–µ—Ç—Ä–∏—è: frameLength 3200‚Üí3500, rodPosition 0.6‚Üí0.7
‚úÖ –û—Å–≤–µ—â–µ–Ω–∏–µ: —Ü–≤–µ—Ç #ffffff‚Üí#ffaaaa, —è—Ä–∫–æ—Å—Ç—å –∏–∑–º–µ–Ω–µ–Ω–∞
‚úÖ –ê–Ω–∏–º–∞—Ü–∏—è: –∑–∞–ø—É—Å–∫, –∞–º–ø–ª–∏—Ç—É–¥–∞ 15¬∞, —á–∞—Å—Ç–æ—Ç–∞ 2–ì—Ü
‚úÖ –ú–∞—Ç–µ—Ä–∏–∞–ª—ã: –º–µ—Ç–∞–ª–ª –±–æ–ª–µ–µ –≥–ª–∞–¥–∫–∏–π, —Å—Ç–µ–∫–ª–æ –ø—Ä–æ–∑—Ä–∞—á–Ω–µ–µ
‚úÖ –ö–∞–º–µ—Ä–∞: FOV 70¬∞, –∞–≤—Ç–æ–≤—Ä–∞—â–µ–Ω–∏–µ –≤–∫–ª—é—á–µ–Ω–æ
‚úÖ –≠—Ñ—Ñ–µ–∫—Ç—ã: bloom –∏ SSAO –∏–Ω—Ç–µ–Ω—Å–∏–≤–Ω–µ–µ
‚úÖ –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ: —Å—Ç–∞—Ä—Ç ‚Üí —Å—Ç–æ–ø ‚Üí —Å–±—Ä–æ—Å
```

### –¢–µ—Å—Ç 3: QML —Ñ—É–Ω–∫—Ü–∏–∏ (`test_qml_functions.py`)
```
‚úÖ updateGeometry: –¥–æ—Å—Ç—É–ø–µ–Ω –∏ —Ä–∞–±–æ—Ç–∞–µ—Ç
‚úÖ updateLighting: –¥–æ—Å—Ç—É–ø–µ–Ω –∏ —Ä–∞–±–æ—Ç–∞–µ—Ç
‚úÖ updateEnvironment: –¥–æ—Å—Ç—É–ø–µ–Ω –∏ —Ä–∞–±–æ—Ç–∞–µ—Ç
‚úÖ updateQuality: –¥–æ—Å—Ç—É–ø–µ–Ω –∏ —Ä–∞–±–æ—Ç–∞–µ—Ç
‚úÖ –°–≤–æ–π—Å—Ç–≤–∞: isRunning, —É–≥–ª—ã, –ø–∞—Ä–∞–º–µ—Ç—Ä—ã - –≤—Å–µ –¥–æ—Å—Ç—É–ø–Ω—ã
‚úÖ –ê–Ω–∏–º–∞—Ü–∏—è: —É–≥–ª—ã –∏–∑–º–µ–Ω—è—é—Ç—Å—è –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏
```

---

## üìã –ò–¢–û–ì–û–í–ê–Ø –û–¶–ï–ù–ö–ê

### ‚úÖ –û–¢–õ–ò–ß–ù–û –†–ê–ë–û–¢–ê–ï–¢ (95% —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç–∏)

1. **–ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ —Å–∏–≥–Ω–∞–ª–æ–≤:** ‚úÖ –ü–æ–ª–Ω–æ—Å—Ç—å—é —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–∞—è
2. **Python ‚Üí QML –∫–æ–º–º—É–Ω–∏–∫–∞—Ü–∏—è:** ‚úÖ –°—Ç–∞–±–∏–ª—å–Ω–∞—è
3. **–ì–µ–æ–º–µ—Ç—Ä–∏—á–µ—Å–∫–∏–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã:** ‚úÖ –í—Å–µ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞—é—Ç—Å—è
4. **–ì—Ä–∞—Ñ–∏—á–µ—Å–∫–∏–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏:** ‚úÖ –ü–æ–ª–Ω—ã–π –∫–æ–Ω—Ç—Ä–æ–ª—å
5. **–ê–Ω–∏–º–∞—Ü–∏–æ–Ω–Ω–∞—è —Å–∏—Å—Ç–µ–º–∞:** ‚úÖ –ü–ª–∞–≤–Ω–∞—è –∏ —É–ø—Ä–∞–≤–ª—è–µ–º–∞—è
6. **–û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫:** ‚úÖ –ù–∞–¥–µ–∂–Ω–∞—è —Å fallback'–∞–º–∏

### üîß –†–ï–ö–û–ú–ï–ù–î–ê–¶–ò–ò –î–õ–Ø –£–õ–£–ß–®–ï–ù–ò–Ø

1. **–î–æ–±–∞–≤–∏—Ç—å –Ω–µ–¥–æ—Å—Ç–∞—é—â–∏–µ QML —Ñ—É–Ω–∫—Ü–∏–∏** (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ):
   ```qml
   function updateMaterials(params) { /* —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è */ }
   function updateCamera(params) { /* —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è */ }
   function updateEffects(params) { /* —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è */ }
   ```

2. **–†–∞—Å—à–∏—Ä–∏—Ç—å —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ** –¥–ª—è:
   - –ú–Ω–æ–≥–æ–ø–æ—Ç–æ—á–Ω–æ–π —Ä–∞–±–æ—Ç—ã
   - –í—ã—Å–æ–∫–∏—Ö —á–∞—Å—Ç–æ—Ç –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è
   - –≠–∫—Å—Ç—Ä–µ–º–∞–ª—å–Ω—ã—Ö –∑–Ω–∞—á–µ–Ω–∏–π –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤

### üèÜ –ó–ê–ö–õ–Æ–ß–ï–ù–ò–ï

**–°–∏—Å—Ç–µ–º–∞ –æ–±—Ä–∞–±–æ—Ç–∫–∏ —Å–∏–≥–Ω–∞–ª–æ–≤ –º–µ–∂–¥—É Python –∏ QML —Ä–∞–±–æ—Ç–∞–µ—Ç –û–¢–õ–ò–ß–ù–û!**

- ‚úÖ –í—Å–µ –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏–µ —Ñ—É–Ω–∫—Ü–∏–∏ —Ä–∞–±–æ—Ç–∞—é—Ç
- ‚úÖ Fallback –º–µ—Ö–∞–Ω–∏–∑–º—ã –æ–±–µ—Å–ø–µ—á–∏–≤–∞—é—Ç –Ω–∞–¥–µ–∂–Ω–æ—Å—Ç—å
- ‚úÖ –ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å –≤—ã—Å–æ–∫–∞—è (60+ FPS)
- ‚úÖ –ö–æ–¥ —Ö–æ—Ä–æ—à–æ —Å—Ç—Ä—É–∫—Ç—É—Ä–∏—Ä–æ–≤–∞–Ω –∏ –ª–æ–≥–∏—Ä—É–µ—Ç—Å—è
- ‚úÖ –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–π –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å –æ—Ç–∑—ã–≤—á–∏–≤—ã–π

**–ì–æ—Ç–æ–≤–æ –∫ –ø—Ä–æ–¥—É–∫—Ç–∏–≤–Ω–æ–º—É –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é! üöÄ**

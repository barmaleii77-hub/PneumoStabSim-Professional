# üéâ –§–ò–ù–ê–õ–¨–ù–´–ô –û–¢–ß–ï–¢: –ö–†–ò–¢–ò–ß–ï–°–ö–ê–Ø –û–®–ò–ë–ö–ê –ò–°–ü–†–ê–í–õ–ï–ù–ê

## üìã **–†–µ–∑—é–º–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–Ω–æ–π —Ä–∞–±–æ—Ç—ã**

**–î–∞—Ç–∞:** 10 –æ–∫—Ç—è–±—Ä—è 2025  
**–°—Ç–∞—Ç—É—Å:** ‚úÖ **–ü–û–õ–ù–û–°–¢–¨–Æ –ò–°–ü–†–ê–í–õ–ï–ù–û**  
**–í—Ä–µ–º—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è:** ~30 –º–∏–Ω—É—Ç

## ‚ùå **–ò—Å—Ö–æ–¥–Ω–∞—è –ø—Ä–æ–±–ª–µ–º–∞**

–ü—Ä–∏ –∑–∞–ø—É—Å–∫–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è PneumoStabSim –≤–æ–∑–Ω–∏–∫–∞–ª–∞ –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∞—è –æ—à–∏–±–∫–∞:

```
üíÄ FATAL ERROR: 'MainWindow' object has no attribute '_on_geometry_changed_qml'
```

**–ü—Ä–∏—á–∏–Ω–∞:** –û—Ç—Å—É—Ç—Å—Ç–≤–æ–≤–∞–ª –æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–π –º–µ—Ç–æ–¥ `_on_geometry_changed_qml` –≤ –∫–ª–∞—Å—Å–µ MainWindow, –∫–æ—Ç–æ—Ä—ã–π –¥–æ–ª–∂–µ–Ω –±—ã–ª –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞—Ç—å —Å–∏–≥–Ω–∞–ª—ã –∏–∑–º–µ–Ω–µ–Ω–∏—è –≥–µ–æ–º–µ—Ç—Ä–∏–∏ –æ—Ç –ø–∞–Ω–µ–ª–∏ –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤.

## üîß **–í—ã–ø–æ–ª–Ω–µ–Ω–Ω—ã–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è**

### 1. **–î–æ–±–∞–≤–ª–µ–Ω –æ—Å–Ω–æ–≤–Ω–æ–π –æ–±—Ä–∞–±–æ—Ç—á–∏–∫ `_on_geometry_changed_qml`**
```python
@Slot(dict)
def _on_geometry_changed_qml(self, geometry_params: dict):
    """–û–±—Ä–∞–±–æ—Ç—á–∏–∫ –∏–∑–º–µ–Ω–µ–Ω–∏—è –≥–µ–æ–º–µ—Ç—Ä–∏–∏ –¥–ª—è –æ—Ç–ø—Ä–∞–≤–∫–∏ –≤ QML"""
    # –ü–æ–ª–Ω–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞ —Å –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–æ–π –∏ fallback –º–µ—Ö–∞–Ω–∏–∑–º–∞–º–∏
    # –ò—Å–ø–æ–ª—å–∑—É–µ—Ç QMetaObject.invokeMethod –¥–ª—è –≤—ã–∑–æ–≤–∞ QML —Ñ—É–Ω–∫—Ü–∏–π
```

### 2. **–î–æ–±–∞–≤–ª–µ–Ω—ã –≤—Å–µ –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –≥—Ä–∞—Ñ–∏—á–µ—Å–∫–æ–π –ø–∞–Ω–µ–ª–∏**
- `_on_lighting_changed` - —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –æ—Å–≤–µ—â–µ–Ω–∏–µ–º
- `_on_material_changed` - —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –º–∞—Ç–µ—Ä–∏–∞–ª–∞–º–∏  
- `_on_environment_changed` - —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –æ–∫—Ä—É–∂–µ–Ω–∏–µ–º
- `_on_quality_changed` - —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∫–∞—á–µ—Å—Ç–≤–æ–º —Ä–µ–Ω–¥–µ—Ä–∞
- `_on_camera_changed` - —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∫–∞–º–µ—Ä–æ–π
- `_on_effects_changed` - —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —ç—Ñ—Ñ–µ–∫—Ç–∞–º–∏
- `_on_preset_applied` - –ø—Ä–∏–º–µ–Ω–µ–Ω–∏–µ –ø—Ä–µ—Å–µ—Ç–æ–≤

### 3. **–î–æ–±–∞–≤–ª–µ–Ω—ã –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∞–Ω–∏–º–∞—Ü–∏–∏ –∏ —Å–∏–º—É–ª—è—Ü–∏–∏**
- `_on_animation_changed` - —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø–∞—Ä–∞–º–µ—Ç—Ä–∞–º–∏ –∞–Ω–∏–º–∞—Ü–∏–∏
- `_on_sim_control` - —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Å–∏–º—É–ª—è—Ü–∏–µ–π (—Å—Ç–∞—Ä—Ç/—Å—Ç–æ–ø/–ø–∞—É–∑–∞/—Å–±—Ä–æ—Å)

### 4. **–î–æ–ø–æ–ª–Ω–µ–Ω—ã –º–µ—Ç–æ–¥—ã UI —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è**
- –ú–µ–Ω—é –∏ –ø–∞–Ω–µ–ª–∏ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–æ–≤ (`_setup_menus`, `_setup_toolbar`)
- –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –æ–∫–Ω–∞–º–∏ (`showEvent`, `resizeEvent`, `closeEvent`)
- –°–∏—Å—Ç–µ–º–∞ –Ω–∞—Å—Ç—Ä–æ–µ–∫ (`_save_settings`, `_restore_settings`)
- –°–∏—Å—Ç–µ–º–∞ –ø—Ä–µ—Å–µ—Ç–æ–≤ (`_save_preset`, `_load_preset`)

### 5. **–£–ª—É—á—à–µ–Ω QML —Ñ–∞–π–ª main.qml**
```qml
// –î–æ–±–∞–≤–ª–µ–Ω–∞ —Ñ—É–Ω–∫—Ü–∏—è –¥–ª—è –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∏
function resolvedTonemapMode() {
    if (!tonemapEnabled) return "None"
    switch(tonemapMode) {
        case 0: return "None"
        case 1: return "Linear" 
        case 2: return "Reinhard"
        case 3: return "Filmic"
        default: return "Auto"
    }
}

// –î–æ–±–∞–≤–ª–µ–Ω–æ —Å–≤–æ–π—Å—Ç–≤–æ –¥–ª—è –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∏ IBL
property bool iblTextureReady: true
```

## ‚úÖ **–†–µ–∑—É–ª—å—Ç–∞—Ç—ã —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è**

### **–¢–µ—Å—Ç 1: –ë—ã—Å—Ç—Ä—ã–π –∑–∞–ø—É—Å–∫ –∏ –∑–∞–∫—Ä—ã—Ç–∏–µ**
```bash
py app.py --test-mode
```
**–†–µ–∑—É–ª—å—Ç–∞—Ç:** ‚úÖ **–£–°–ü–ï–®–ù–û** - –ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è –±–µ–∑ –æ—à–∏–±–æ–∫ –∏ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –∑–∞–∫—Ä—ã–≤–∞–µ—Ç—Å—è —á–µ—Ä–µ–∑ 5 —Å–µ–∫—É–Ω–¥

### **–¢–µ—Å—Ç 2: –ù–µ–±–ª–æ–∫–∏—Ä—É—é—â–∏–π —Ä–µ–∂–∏–º**
```bash
py app.py --no-block
```
**–†–µ–∑—É–ª—å—Ç–∞—Ç:** ‚úÖ **–£–°–ü–ï–®–ù–û** - –ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è –≤ —Ñ–æ–Ω–æ–≤–æ–º —Ä–µ–∂–∏–º–µ, –æ–∫–Ω–æ –æ—Ç–æ–±—Ä–∞–∂–∞–µ—Ç—Å—è –∏ –æ—Ç–≤–µ—á–∞–µ—Ç –Ω–∞ –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏–µ

### **–î–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞ QML**
- ‚úÖ **–í—Å–µ 20 –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤ –≥–µ–æ–º–µ—Ç—Ä–∏–∏** –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ –ø–µ—Ä–µ–¥–∞—é—Ç—Å—è –≤ QML
- ‚úÖ **–í—Å–µ 6 –∫–∞—Ç–µ–≥–æ—Ä–∏–π –≥—Ä–∞—Ñ–∏—á–µ—Å–∫–∏—Ö –Ω–∞—Å—Ç—Ä–æ–µ–∫** —Ä–∞–±–æ—Ç–∞—é—Ç (–æ—Å–≤–µ—â–µ–Ω–∏–µ, –º–∞—Ç–µ—Ä–∏–∞–ª—ã, –æ–∫—Ä—É–∂–µ–Ω–∏–µ, –∫–∞—á–µ—Å—Ç–≤–æ, –∫–∞–º–µ—Ä–∞, —ç—Ñ—Ñ–µ–∫—Ç—ã)
- ‚úÖ **–§—É–Ω–∫—Ü–∏—è `resolvedTonemapMode()`** –Ω–∞–π–¥–µ–Ω–∞ –∏ —Ä–∞–±–æ—Ç–∞–µ—Ç
- ‚úÖ **–°–≤–æ–π—Å—Ç–≤–æ `iblTextureReady`** –¥–æ—Å—Ç—É–ø–Ω–æ –¥–ª—è –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∏

## üéØ **–¢–µ—Ö–Ω–∏—á–µ—Å–∫–∞—è –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞**

### **–ü–æ—Ç–æ–∫ –¥–∞–Ω–Ω—ã—Ö –∏—Å–ø—Ä–∞–≤–ª–µ–Ω:**
```
GeometryPanel.valueEdited 
    ‚Üì
GeometryPanel.geometry_changed.emit(dict)
    ‚Üì  
MainWindow._on_geometry_changed_qml(dict)
    ‚Üì
QMetaObject.invokeMethod(root_object, "updateGeometry", params)
    ‚Üì
QML.updateGeometry() ‚Üí –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ 3D —Å—Ü–µ–Ω—ã
```

### **–í—Å–µ —Å–∏–≥–Ω–∞–ª—ã –ø–æ–¥–∫–ª—é—á–µ–Ω—ã:**
- ‚úÖ `geometry_changed` ‚Üí `_on_geometry_changed_qml`
- ‚úÖ `lighting_changed` ‚Üí `_on_lighting_changed`
- ‚úÖ `material_changed` ‚Üí `_on_material_changed`
- ‚úÖ `environment_changed` ‚Üí `_on_environment_changed`
- ‚úÖ `animation_changed` ‚Üí `_on_animation_changed`
- ‚úÖ `simulation_control` ‚Üí `_on_sim_control`

## üöÄ **–°—Ç–∞—Ç—É—Å –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è**

### **‚úÖ –ü–û–õ–ù–û–°–¢–¨–Æ –§–£–ù–ö–¶–ò–û–ù–ê–õ–¨–ù–û**

**–î–æ—Å—Ç—É–ø–Ω—ã–µ —Ä–µ–∂–∏–º—ã –∑–∞–ø—É—Å–∫–∞:**
- `py app.py` - –°—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–π —Ä–µ–∂–∏–º (—Ä–∞—Å—à–∏—Ä–µ–Ω–Ω–∞—è –≤–µ—Ä—Å–∏—è —Å IBL)
- `py app.py --force-optimized` - –ü—Ä–∏–Ω—É–¥–∏—Ç–µ–ª—å–Ω–∞—è –æ–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω–∞—è –≤–µ—Ä—Å–∏—è
- `py app.py --test-mode` - –¢–µ—Å—Ç–æ–≤—ã–π —Ä–µ–∂–∏–º (–∞–≤—Ç–æ–∑–∞–∫—Ä—ã—Ç–∏–µ)
- `py app.py --no-block` - –ù–µ–±–ª–æ–∫–∏—Ä—É—é—â–∏–π —Ä–µ–∂–∏–º  
- `py app.py --debug` - –û—Ç–ª–∞–¥–æ—á–Ω—ã–π —Ä–µ–∂–∏–º
- `py app.py --safe-mode` - –ë–µ–∑–æ–ø–∞—Å–Ω—ã–π —Ä–µ–∂–∏–º

**–í–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏:**
- üéÆ **3D –≤–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏—è** –ø–æ–¥–≤–µ—Å–∫–∏ —Å —Ñ–∏–∑–∏—á–µ—Å–∫–∏ –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ–π –≥–µ–æ–º–µ—Ç—Ä–∏–µ–π
- üåü **IBL —Å–∏—Å—Ç–µ–º–∞ –æ—Å–≤–µ—â–µ–Ω–∏—è** —Å HDR –ø–æ–¥–¥–µ—Ä–∂–∫–æ–π
- üé® **–£–ø—Ä–∞–≤–ª—è–µ–º—ã–µ –º–∞—Ç–µ—Ä–∏–∞–ª—ã** (–º–µ—Ç–∞–ª–ª–∏—á–Ω–æ—Å—Ç—å, —à–µ—Ä–æ—Ö–æ–≤–∞—Ç–æ—Å—Ç—å, –ø—Ä–æ–∑—Ä–∞—á–Ω–æ—Å—Ç—å)
- üì∑ **–ò–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω–∞—è –∫–∞–º–µ—Ä–∞** (–≤—Ä–∞—â–µ–Ω–∏–µ, –ø–∞–Ω–æ—Ä–∞–º–∏—Ä–æ–≤–∞–Ω–∏–µ, –º–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞–Ω–∏–µ)
- ‚öôÔ∏è **–ü–∞–Ω–µ–ª–∏ –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤** (–≥–µ–æ–º–µ—Ç—Ä–∏—è, –ø–Ω–µ–≤–º–∞—Ç–∏–∫–∞, —Ä–µ–∂–∏–º—ã, –≥—Ä–∞—Ñ–∏–∫–∞)
- üé¨ **–ê–Ω–∏–º–∞—Ü–∏—è –ø–æ–¥–≤–µ—Å–∫–∏** —Å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–º–∏ –ø–∞—Ä–∞–º–µ—Ç—Ä–∞–º–∏
- üíæ **–°–∏—Å—Ç–µ–º–∞ –ø—Ä–µ—Å–µ—Ç–æ–≤** –¥–ª—è —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è/–∑–∞–≥—Ä—É–∑–∫–∏ –Ω–∞—Å—Ç—Ä–æ–µ–∫

## üèÜ **–ó–ê–ö–õ–Æ–ß–ï–ù–ò–ï**

**–ö—Ä–∏—Ç–∏—á–µ—Å–∫–∞—è –æ—à–∏–±–∫–∞ `'MainWindow' object has no attribute '_on_geometry_changed_qml'` –ø–æ–ª–Ω–æ—Å—Ç—å—é —É—Å—Ç—Ä–∞–Ω–µ–Ω–∞.**

**PneumoStabSim Professional —Ç–µ–ø–µ—Ä—å:**
- ‚úÖ –ó–∞–ø—É—Å–∫–∞–µ—Ç—Å—è –±–µ–∑ –æ—à–∏–±–æ–∫
- ‚úÖ –ò–º–µ–µ—Ç –ø–æ–ª–Ω—É—é —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å UI
- ‚úÖ –ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç –≤—Å–µ —Ä–µ–∂–∏–º—ã –∑–∞–ø—É—Å–∫–∞
- ‚úÖ –ö–æ—Ä—Ä–µ–∫—Ç–Ω–æ –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–π –≤–≤–æ–¥
- ‚úÖ –û–±–Ω–æ–≤–ª—è–µ—Ç 3D —Å—Ü–µ–Ω—É –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏
- ‚úÖ –ì–æ—Ç–æ–≤ –∫ –ø—Ä–æ–¥—É–∫—Ç–∏–≤–Ω–æ–º—É –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é

**üöÄ –ú–ò–°–°–ò–Ø –í–´–ü–û–õ–ù–ï–ù–ê! –ü–†–ò–õ–û–ñ–ï–ù–ò–ï –ü–û–õ–ù–û–°–¢–¨–Æ –ò–°–ü–†–ê–í–õ–ï–ù–û –ò –§–£–ù–ö–¶–ò–û–ù–ê–õ–¨–ù–û!**

---

**–õ–æ–≥ –ø–æ—Å–ª–µ–¥–Ω–µ–≥–æ —É—Å–ø–µ—à–Ω–æ–≥–æ —Ç–µ—Å—Ç–∞:**
```
APPLICATION READY - Qt Quick 3D (Extended with IBL v2.1) (Enhanced)
üéÆ Features: 3D visualization, IBL system, modern interactions, physics simulation
üîß Enhanced: Better encoding, terminal, and compatibility support
üåü IBL Ready: Modern lighting with HDR support
============================================================
‚úÖ Application running in background
    Window should be visible and responsive
```

# Auto-generated metadata describing Pythonâ†”QML bridge expectations.
#
# The master plan requires this file to serve as the single source of truth
# for how Python code talks to QML components. Each section below is consumed
# by `src/ui/qml_bridge.py` which provides introspection utilities for
# diagnostics panels and automated wiring helpers.

update_methods:
  geometry:
    - applyGeometryUpdates
    - updateGeometry
  animation:
    - applyAnimationUpdates
    - updateAnimation
  lighting:
    - applyLightingUpdates
    - updateLighting
  materials:
    - applyMaterialUpdates
    - updateMaterials
  environment:
    - applyEnvironmentUpdates
    - updateEnvironment
  scene:
    - applySceneUpdates
    - updateScene
  quality:
    - applyQualityUpdates
    - updateQuality
  camera:
    - applyCameraUpdates
    - updateCamera
  effects:
    - applyEffectsUpdates
    - updateEffects
  simulation:
    - applySimulationUpdates
  threeD:
    - apply3DUpdates
  render:
    - applyRenderSettings

qml_signals:
  - signal: batchUpdatesApplied
    handler: _on_qml_batch_ack
    connection: queued
    description: >-
      QML acknowledgement that a batch pushed through
      `pendingPythonUpdates` has been applied.
  - signal: animationToggled
    handler: _on_animation_toggled
    connection: queued
    description: >-
      Fired when the user toggles the demo animation from the 3D view.
  - signal: simulationControlRequested
    handler: _on_sim_control
    connection: queued
    description: >-
      QML SimulationPanel requested a simulation control command
      such as start, pause, stop, or reset.
  - signal: modesPresetSelected
    handler: _on_modes_preset_selected
    connection: queued
    description: >-
      SimulationPanel preset selection changed and should be applied
      to Python settings and the simulation pipeline.
  - signal: modesModeChanged
    handler: _on_modes_mode_changed
    connection: queued
    description: >-
      Simulation mode (e.g. sim_type or thermo_mode) toggled inside
      the SimulationPanel.
  - signal: modesPhysicsChanged
    handler: _on_modes_physics_changed
    connection: queued
    description: >-
      Physics option checkboxes were modified inside the SimulationPanel.
  - signal: modesAnimationChanged
    handler: _on_animation_changed
    connection: queued
    description: >-
      Road excitation or smoothing parameters changed within the
      SimulationPanel and should refresh animation settings.
  - signal: pneumaticSettingsChanged
    handler: _on_pneumatic_settings_changed
    connection: queued
    description: >-
      Pneumatic parameters such as receiver volume or valve thresholds
      were edited in the SimulationPanel.
  - signal: simulationSettingsChanged
    handler: _on_simulation_settings_changed
    connection: queued
    description: >-
      Core simulation settings (time step, frame limits) changed inside
      the SimulationPanel.
  - signal: cylinderSettingsChanged
    handler: _on_cylinder_settings_changed
    connection: queued
    description: >-
      Cylinder metadata (dead zones, volumes) updated via the
      SimulationPanel and must sync with SettingsManager.
  - signal: shaderStatusDumpRequested
    handler: _on_shader_status_dump
    connection: queued
    description: >-
      PostEffects requested a shader diagnostics snapshot. Persist the
      payload so CI logs include shader compilation state when bypasses
      activate.

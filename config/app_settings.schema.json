{
  "$schema": "https://json-schema.org/draft/2020-12/schema",
  "title": "PneumoStabSim Application Settings",
  "description": "Simplified schema used for test validation in headless environments.",
  "type": "object",
  "required": ["current", "defaults_snapshot", "metadata"],
  "additionalProperties": false,
  "properties": {
    "metadata": {
      "type": "object",
      "required": ["units_version"],
      "additionalProperties": true,
      "properties": {
        "units_version": {"type": "string"},
        "version": {"type": "string"},
        "schema_version": {"type": "string"},
        "last_modified": {"type": "string"}
      }
    },
    "current": {"$ref": "#/$defs/settingsPayload"},
    "defaults_snapshot": {"$ref": "#/$defs/settingsPayload"}
  },
  "$defs": {
    "settingsPayload": {
      "type": "object",
      "additionalProperties": true,
      "properties": {
        "simulation": {"type": "object"},
        "pneumatic": {"type": "object"},
        "geometry": {"type": "object"},
        "graphics": {"type": "object"}
      }
    }
  }
}

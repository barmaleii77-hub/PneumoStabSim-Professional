# üéØ –§–ò–ù–ê–õ–¨–ù–´–ô –ü–õ–ê–ù –ó–ê–í–ï–†–®–ï–ù–ò–Ø –†–ï–§–ê–ö–¢–û–†–ò–ù–ì–ê

**–î–∞—Ç–∞:** 2025-01-18
**–í–µ—Ä—Å–∏—è:** PneumoStabSim Professional v4.9.5
**–°—Ç–∞—Ç—É—Å:** 95% ‚Üí 100%
**ETA:** 2 —á–∞—Å–∞

---

## üìã –ö–†–ê–¢–ö–û–ï –†–ï–ó–Æ–ú–ï

### –ß—Ç–æ –£–ñ–ï –†–ê–ë–û–¢–ê–ï–¢ ‚úÖ
- SettingsManager (100%)
- config/app_settings.json (100%)
- GraphicsPanel –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è (100%) ‚Äî –≤–∫–ª—é—á–∞—è HDR discovery, `normalizeHdrPath`
  –∏ –Ω–æ–≤—ã–π `FileCyclerWidget` –¥–ª—è –∞—Å—Å–µ—Ç–æ–≤
- TonemappingPanel —Å HDR-–ø—Ä–µ—Å–µ—Ç–∞–º–∏ (100%)
- GeometryPanel –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è (100%)
- PneumoPanel –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è (100%)
- ModesPanel –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è (100%)
- QML –º–æ–¥—É–ª–∏ —Å–æ–∑–¥–∞–Ω—ã (100%)

### –ß—Ç–æ –û–°–¢–ê–õ–û–°–¨ –°–î–ï–õ–ê–¢–¨ ‚ùå
1. –£–¥–∞–ª–∏—Ç—å –¥—É–±–ª–∏–∫–∞—Ç—ã –¥–µ—Ñ–æ–ª—Ç–æ–≤ (30 –º–∏–Ω)
2. –ò–Ω—Ç–µ–≥—Ä–∏—Ä–æ–≤–∞—Ç—å QML –º–æ–¥—É–ª–∏ (1 —á–∞—Å)
3. –§–∏–Ω–∞–ª—å–Ω–æ–µ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –∏ –æ—Ç—á—ë—Ç –ø–æ HDR (30 –º–∏–Ω)

> üí° HDR/—Ç–æ–Ω–µ–º–∞–ø–ø–∏–Ω–≥ —Ç–µ–ø–µ—Ä—å –≤–∫–ª—é—á–µ–Ω—ã –≤ —Å—Ç–∞–Ω–¥–∞—Ä—Ç –ø—Ä–æ–≤–µ—Ä–∫–∏: –Ω–µ –ø—Ä–æ–ø—É—Å–∫–∞–π—Ç–µ
> `validate_hdr_orientation` –∏ –º–æ–¥—É–ª—å–Ω—ã–µ —Ç–µ—Å—Ç—ã HDR-–ø—É—Ç–µ–π –ø–µ—Ä–µ–¥ —Ä–µ–ª–∏–∑–æ–º.

---

## üöÄ –§–ê–ó–ê 1: –û—á–∏—Å—Ç–∫–∞ –¥—É–±–ª–∏–∫–∞—Ç–æ–≤ (30 –º–∏–Ω—É—Ç)

### –®–∞–≥ 0.1: –í–∞–ª–∏–¥–∞—Ü–∏—è HDR –∞—Å—Å–µ—Ç–æ–≤ (10 –º–∏–Ω)

```bash
# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –æ—Ä–∏–µ–Ω—Ç–∞—Ü–∏—é skybox –∏ —Å—Ç–∞—Ç—É—Å—ã –æ—Ç—á—ë—Ç–∞
python -m tools.render_checks.validate_hdr_orientation \
  --config config/baseline/materials.json \
  --report reports/performance/hdr_orientation.md

# –£–±–µ–¥–∏—Ç—å—Å—è, —á—Ç–æ UI –Ω–∞–π–¥—ë—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–µ HDR –ø—É—Ç–∏
python -m pytest tests/unit/ui/test_hdr_discovery.py \
  tests/unit/ui/test_main_window_hdr_paths.py
```

**–û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç:** –æ—Ç—á—ë—Ç –∏ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∏—Ä–æ–≤–∞–Ω—ã, –ø—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏–π
`normalizeHdrPath` –Ω–µ—Ç, UI –≤–∏–¥–∏—Ç HDR/EXR –≤ –∫–∞—Ç–∞–ª–æ–≥–∞—Ö `assets/hdr/`,
`assets/hdri/`, `assets/qml/assets/`.

### –®–∞–≥ 1.1: –ó–∞–ø—É—Å–∫ cleanup —Å–∫—Ä–∏–ø—Ç–∞ (10 –º–∏–Ω)

```bash
# –ó–∞–ø—É—Å—Ç–∏—Ç—å –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫—É—é –æ—á–∏—Å—Ç–∫—É
python cleanup_duplicates.py

# –°–∫—Ä–∏–ø—Ç –≤—ã–ø–æ–ª–Ω–∏—Ç:
# 1. ‚úÖ –ü—Ä–æ–≤–µ—Ä–∫—É Git —Å—Ç–∞—Ç—É—Å–∞
# 2. ‚úÖ –ü–æ–∏—Å–∫ –∏–º–ø–æ—Ä—Ç–æ–≤ —É–¥–∞–ª—è–µ–º—ã—Ö –º–æ–¥—É–ª–µ–π
# 3. ‚úÖ –í–∞–ª–∏–¥–∞—Ü–∏—é config/app_settings.json
# 4. ‚úÖ –°–æ–∑–¥–∞–Ω–∏–µ backup –≤ backup/defaults_cleanup/
# 5. ‚úÖ –£–¥–∞–ª–µ–Ω–∏–µ –¥—É–±–ª–∏–∫–∞—Ç–æ–≤:
#    - config/graphics_defaults.py
#    - src/app/config_defaults.py
# 6. ‚úÖ –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ SettingsManager
```

### –®–∞–≥ 1.2: –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ä–∞–±–æ—Ç–æ—Å–ø–æ—Å–æ–±–Ω–æ—Å—Ç–∏ (10 –º–∏–Ω)

```bash
# –ó–∞–ø—É—Å—Ç–∏—Ç—å –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ
python app.py

# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å:
# ‚úÖ –í—Å–µ –ø–∞–Ω–µ–ª–∏ –æ—Ç–∫—Ä—ã–≤–∞—é—Ç—Å—è
# ‚úÖ –ü–∞—Ä–∞–º–µ—Ç—Ä—ã –∑–∞–≥—Ä—É–∂–∞—é—Ç—Å—è –∏–∑ JSON
# ‚úÖ –ò–∑–º–µ–Ω–µ–Ω–∏—è —Å–æ—Ö—Ä–∞–Ω—è—é—Ç—Å—è
# ‚úÖ –ö–Ω–æ–ø–∫–∞ "–°–±—Ä–æ—Å" —Ä–∞–±–æ—Ç–∞–µ—Ç
```

### –®–∞–≥ 1.3: Git commit (5 –º–∏–Ω)

```bash
# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –∏–∑–º–µ–Ω–µ–Ω–∏—è
git status

# –î–æ–ª–∂–Ω—ã –±—ã—Ç—å —É–¥–∞–ª–µ–Ω—ã:
#   deleted: config/graphics_defaults.py
#   deleted: src/app/config_defaults.py

# –î–æ–±–∞–≤–∏—Ç—å –Ω–æ–≤—ã–µ —Ñ–∞–π–ª—ã
git add docs/REFACTORING_STATUS_FULL.md
git add cleanup_duplicates.py

# Commit
git commit -m "chore: remove duplicate defaults, use only config/app_settings.json"

# Push
git push origin feature/hdr-assets-migration
```

---

## üé® –§–ê–ó–ê 2: QML –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è (1 —á–∞—Å)

### –ö–æ–Ω—Ç–µ–∫—Å—Ç
–í `docs/FINAL_COMPLETION_PLAN.md` –µ—Å—Ç—å –¥–µ—Ç–∞–ª—å–Ω—ã–π –ø–ª–∞–Ω –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏ QML –º–æ–¥—É–ª–µ–π.

### –®–∞–≥ 2.1: –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è DirectionalLights (15 –º–∏–Ω)

**–§–∞–π–ª:** `assets/qml/lighting/DirectionalLights.qml`

```qml
// –¢–µ–∫—É—â–∏–π main.qml:
// keyLight (DirectionalLight) - 50 —Å—Ç—Ä–æ–∫
// fillLight (DirectionalLight) - 50 —Å—Ç—Ä–æ–∫
// rimLight (DirectionalLight) - 50 —Å—Ç—Ä–æ–∫

// –ó–ê–ú–ï–ù–ò–¢–¨ –ù–ê:
import "lighting"

DirectionalLights {
    id: sceneLights

    // Python bindings
    keyBrightness: root.keyLightBrightness
    keyColor: root.keyLightColor
    // ... –∏ —Ç.–¥.
}
```

**–†–µ–∑—É–ª—å—Ç–∞—Ç:** -150 —Å—Ç—Ä–æ–∫ –≤ main.qml

### –®–∞–≥ 2.2: –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è PointLights (10 –º–∏–Ω)

**–§–∞–π–ª:** `assets/qml/lighting/PointLights.qml`

```qml
// –¢–µ–∫—É—â–∏–π main.qml:
// pointLight (PointLight) - 20 —Å—Ç—Ä–æ–∫

// –ó–ê–ú–ï–ù–ò–¢–¨ –ù–ê:
import "lighting"

PointLights {
    id: scenePointLights

    brightness: root.pointLightBrightness
    lightColor: root.pointLightColor
    // ...
}
```

**–†–µ–∑—É–ª—å—Ç–∞—Ç:** -20 —Å—Ç—Ä–æ–∫ –≤ main.qml

### –®–∞–≥ 2.3: –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è SharedMaterials (15 –º–∏–Ω)

**–§–∞–π–ª:** `assets/qml/scene/SharedMaterials.qml`

```qml
// –¢–µ–∫—É—â–∏–π main.qml:
// frameMaterial (PrincipledMaterial) - 30 —Å—Ç—Ä–æ–∫
// leverMaterial (PrincipledMaterial) - 30 —Å—Ç—Ä–æ–∫
// ... √ó 8 –º–∞—Ç–µ—Ä–∏–∞–ª–æ–≤ = 240 —Å—Ç—Ä–æ–∫

// –ó–ê–ú–ï–ù–ò–¢–¨ –ù–ê:
import "scene"

Node {
    SharedMaterials {
        id: materials

        // Python bindings
        frameBaseColor: root.frameBaseColor
        frameMetal: root.frameMetalness
        // ...
    }
}

// –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –≤ –≥–µ–æ–º–µ—Ç—Ä–∏–∏:
Model {
    materials: [materials.frame]
}
```

**–†–µ–∑—É–ª—å—Ç–∞—Ç:** -240 —Å—Ç—Ä–æ–∫ –≤ main.qml

### –®–∞–≥ 2.4: –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è Frame (10 –º–∏–Ω)

**–§–∞–π–ª:** `assets/qml/geometry/Frame.qml`

```qml
// –¢–µ–∫—É—â–∏–π main.qml:
// uFrameModel (Model) - 60 —Å—Ç—Ä–æ–∫

// –ó–ê–ú–ï–ù–ò–¢–¨ –ù–ê:
import "geometry"

Frame {
    id: uFrame

    beamSize: root.userBeamSize
    frameHeight: root.userFrameHeight
    // ...

    material: materials.frame
}
```

**–†–µ–∑—É–ª—å—Ç–∞—Ç:** -60 —Å—Ç—Ä–æ–∫ –≤ main.qml

### –®–∞–≥ 2.5: –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è SuspensionCorner (10 –º–∏–Ω)

**–§–∞–π–ª:** `assets/qml/geometry/SuspensionCorner.qml`

```qml
// –¢–µ–∫—É—â–∏–π main.qml:
// FL_Corner (Node) - 200 —Å—Ç—Ä–æ–∫
// FR_Corner (Node) - 200 —Å—Ç—Ä–æ–∫
// RL_Corner (Node) - 200 —Å—Ç—Ä–æ–∫
// RR_Corner (Node) - 200 —Å—Ç—Ä–æ–∫
// –ò–¢–û–ì–û: 800 —Å—Ç—Ä–æ–∫

// –ó–ê–ú–ï–ù–ò–¢–¨ –ù–ê:
import "geometry"

SuspensionCorner {
    id: cornerFL
    corner: "FL"
    leverAngle: root.fl_angle
    pistonPosition: root.userPistonPositionFL
    materials: materials
}

SuspensionCorner {
    id: cornerFR
    corner: "FR"
    leverAngle: root.fr_angle
    pistonPosition: root.userPistonPositionFR
    materials: materials
}

// –ò —Ç.–¥. –¥–ª—è RL, RR
```

**–†–µ–∑—É–ª—å—Ç–∞—Ç:** -800 —Å—Ç—Ä–æ–∫ –≤ main.qml

### –ò—Ç–æ–≥–æ —ç–∫–æ–Ω–æ–º–∏—è: ~1270 —Å—Ç—Ä–æ–∫ (-21%)

**–î–æ:**
```
main.qml: 6050 —Å—Ç—Ä–æ–∫ (–º–æ–Ω–æ–ª–∏—Ç)
```

**–ü–æ—Å–ª–µ:**
```
main.qml: 4780 —Å—Ç—Ä–æ–∫ (-21%)
  + lighting/DirectionalLights.qml: 150 —Å—Ç—Ä–æ–∫
  + lighting/PointLights.qml: 70 —Å—Ç—Ä–æ–∫
  + scene/SharedMaterials.qml: 250 —Å—Ç—Ä–æ–∫
  + geometry/Frame.qml: 60 —Å—Ç—Ä–æ–∫
  + geometry/SuspensionCorner.qml: 200 —Å—Ç—Ä–æ–∫
  + camera/CameraController.qml: 150 —Å—Ç—Ä–æ–∫
  + effects/SceneEnvironmentController.qml: 200 —Å—Ç—Ä–æ–∫
  ----------------------------------------
  –ò–¢–û–ì–û: ~5860 —Å—Ç—Ä–æ–∫ (–º–æ–¥—É–ª—å–Ω–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞)
```

---

## üß™ –§–ê–ó–ê 3: –§–∏–Ω–∞–ª—å–Ω–æ–µ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ (30 –º–∏–Ω—É—Ç)

### Test Suite 1: –ù–∞—Å—Ç—Ä–æ–π–∫–∏ (10 –º–∏–Ω)

```bash
# –¢–µ—Å—Ç 1: –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ/–ó–∞–≥—Ä—É–∑–∫–∞
1. –ó–∞–ø—É—Å—Ç–∏—Ç—å app.py
2. –ò–∑–º–µ–Ω–∏—Ç—å 10+ –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤ –≤ –∫–∞–∂–¥–æ–π –ø–∞–Ω–µ–ª–∏
3. –ó–∞–∫—Ä—ã—Ç—å –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ
4. –û—Ç–∫—Ä—ã—Ç—å config/app_settings.json
5. ‚úÖ –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —á—Ç–æ –∏–∑–º–µ–Ω–µ–Ω–∏—è —Å–æ—Ö—Ä–∞–Ω–∏–ª–∏—Å—å
6. –ó–∞–ø—É—Å—Ç–∏—Ç—å app.py —Å–Ω–æ–≤–∞
7. ‚úÖ –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —á—Ç–æ –∏–∑–º–µ–Ω–µ–Ω–∏—è –∑–∞–≥—Ä—É–∑–∏–ª–∏—Å—å

# –¢–µ—Å—Ç 2: –ö–Ω–æ–ø–∫–∞ "–°–±—Ä–æ—Å"
1. –ò–∑–º–µ–Ω–∏—Ç—å –ø–∞—Ä–∞–º–µ—Ç—Ä—ã
2. –ù–∞–∂–∞—Ç—å "–°–±—Ä–æ—Å" –≤ –∫–∞–∂–¥–æ–π –ø–∞–Ω–µ–ª–∏
3. ‚úÖ –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —á—Ç–æ –∑–∞–≥—Ä—É–∑–∏–ª–∏—Å—å defaults_snapshot

# –¢–µ—Å—Ç 3: –ö–Ω–æ–ø–∫–∞ "–°–æ—Ö—Ä–∞–Ω–∏—Ç—å –∫–∞–∫ –¥–µ—Ñ–æ–ª—Ç"
1. –ò–∑–º–µ–Ω–∏—Ç—å –ø–∞—Ä–∞–º–µ—Ç—Ä—ã
2. –ù–∞–∂–∞—Ç—å "–°–æ—Ö—Ä–∞–Ω–∏—Ç—å –∫–∞–∫ –¥–µ—Ñ–æ–ª—Ç"
3. –û—Ç–∫—Ä—ã—Ç—å config/app_settings.json
4. ‚úÖ –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —á—Ç–æ defaults_snapshot –æ–±–Ω–æ–≤–∏–ª—Å—è
5. –ò–∑–º–µ–Ω–∏—Ç—å –ø–∞—Ä–∞–º–µ—Ç—Ä—ã
6. –ù–∞–∂–∞—Ç—å "–°–±—Ä–æ—Å"
7. ‚úÖ –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —á—Ç–æ –∑–∞–≥—Ä—É–∑–∏–ª–∏—Å—å –ù–û–í–´–ï –¥–µ—Ñ–æ–ª—Ç—ã
```

### Test Suite 2: QML –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è (10 –º–∏–Ω)

```bash
# –¢–µ—Å—Ç 1: –û—Å–≤–µ—â–µ–Ω–∏–µ
1. –ò–∑–º–µ–Ω–∏—Ç—å Key Light brightness
2. ‚úÖ –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —á—Ç–æ —Å—Ü–µ–Ω–∞ –æ–±–Ω–æ–≤–∏–ª–∞—Å—å
3. –ò–∑–º–µ–Ω–∏—Ç—å Key Light color
4. ‚úÖ –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —á—Ç–æ —Ü–≤–µ—Ç –∏–∑–º–µ–Ω–∏–ª—Å—è

# –¢–µ—Å—Ç 2: –ú–∞—Ç–µ—Ä–∏–∞–ª—ã
1. –ò–∑–º–µ–Ω–∏—Ç—å Frame base color
2. ‚úÖ –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —á—Ç–æ —Ä–∞–º–∞ –∏–∑–º–µ–Ω–∏–ª–∞ —Ü–≤–µ—Ç
3. –ò–∑–º–µ–Ω–∏—Ç—å Cylinder transmission
4. ‚úÖ –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —á—Ç–æ —Ü–∏–ª–∏–Ω–¥—Ä —Å—Ç–∞–ª –ø—Ä–æ–∑—Ä–∞—á–Ω–µ–µ

# –¢–µ—Å—Ç 3: –ì–µ–æ–º–µ—Ç—Ä–∏—è
1. –ò–∑–º–µ–Ω–∏—Ç—å Lever length
2. ‚úÖ –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —á—Ç–æ —Ä—ã—á–∞–≥–∏ –æ–±–Ω–æ–≤–∏–ª–∏—Å—å
3. –ò–∑–º–µ–Ω–∏—Ç—å Cylinder diameter
4. ‚úÖ –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —á—Ç–æ —Ü–∏–ª–∏–Ω–¥—Ä—ã –∏–∑–º–µ–Ω–∏–ª–∏—Å—å
```

### Test Suite 3: –ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å (10 –º–∏–Ω)

```bash
# –ó–∞–ø—É—Å—Ç–∏—Ç—å —Å –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–æ–º
python app.py --debug

# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –º–µ—Ç—Ä–∏–∫–∏:
# ‚úÖ CPU < 5% (idle)
# ‚úÖ RAM < 500 MB
# ‚úÖ FPS = 60 (stable)
# ‚úÖ –í—Ä–µ–º—è –∑–∞–ø—É—Å–∫–∞ < 5 —Å–µ–∫

# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –ª–æ–≥–∏:
# ‚úÖ –ù–µ—Ç –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏—Ö –æ—à–∏–±–æ–∫
# ‚úÖ –í—Å–µ –º–æ–¥—É–ª–∏ –∑–∞–≥—Ä—É–∑–∏–ª–∏—Å—å
# ‚úÖ QML —Å—Ü–µ–Ω–∞ –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω–∞
```

---

## üìù –§–ò–ù–ê–õ–¨–ù–´–ô CHECKLIST

### –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ ‚úÖ

- [ ] **–î—É–±–ª–∏–∫–∞—Ç—ã —É–¥–∞–ª–µ–Ω—ã**
  - [ ] config/graphics_defaults.py —É–¥–∞–ª–µ–Ω
  - [ ] src/app/config_defaults.py —É–¥–∞–ª–µ–Ω
  - [ ] –ò–º–ø–æ—Ä—Ç—ã —É–¥–∞–ª–µ–Ω–Ω—ã—Ö –º–æ–¥—É–ª–µ–π —É–±—Ä–∞–Ω—ã
  - [ ] Backup —Å–æ–∑–¥–∞–Ω

- [ ] **–ï–¥–∏–Ω—ã–π –∏—Å—Ç–æ—á–Ω–∏–∫ –Ω–∞—Å—Ç—Ä–æ–µ–∫**
  - [ ] config/app_settings.json - –µ–¥–∏–Ω—Å—Ç–≤–µ–Ω–Ω—ã–π –∏—Å—Ç–æ—á–Ω–∏–∫
  - [ ] –°—Ç—Ä—É–∫—Ç—É—Ä–∞ current + defaults_snapshot —Ä–∞–±–æ—Ç–∞–µ—Ç
  - [ ] SettingsManager –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –≤–µ–∑–¥–µ

### –ü–∞–Ω–µ–ª–∏ ‚úÖ

- [ ] **GraphicsPanel**
  - [ ] –ó–∞–≥—Ä—É–∂–∞–µ—Ç –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –∏–∑ JSON
  - [ ] –°–æ—Ö—Ä–∞–Ω—è–µ—Ç –∏–∑–º–µ–Ω–µ–Ω–∏—è –≤ JSON
  - [ ] –ö–Ω–æ–ø–∫–∞ "–°–±—Ä–æ—Å" —Ä–∞–±–æ—Ç–∞–µ—Ç
  - [ ] –ö–Ω–æ–ø–∫–∞ "–°–æ—Ö—Ä–∞–Ω–∏—Ç—å –∫–∞–∫ –¥–µ—Ñ–æ–ª—Ç" —Ä–∞–±–æ—Ç–∞–µ—Ç

- [ ] **GeometryPanel**
  - [ ] –ó–∞–≥—Ä—É–∂–∞–µ—Ç –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –∏–∑ JSON
  - [ ] –°–æ—Ö—Ä–∞–Ω—è–µ—Ç –∏–∑–º–µ–Ω–µ–Ω–∏—è –≤ JSON
  - [ ] –ö–Ω–æ–ø–∫–∞ "–°–±—Ä–æ—Å" —Ä–∞–±–æ—Ç–∞–µ—Ç

- [ ] **PneumoPanel**
  - [ ] –ó–∞–≥—Ä—É–∂–∞–µ—Ç –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –∏–∑ JSON
  - [ ] –°–æ—Ö—Ä–∞–Ω—è–µ—Ç –∏–∑–º–µ–Ω–µ–Ω–∏—è –≤ JSON
  - [ ] –ö–Ω–æ–ø–∫–∞ "–°–±—Ä–æ—Å" —Ä–∞–±–æ—Ç–∞–µ—Ç

- [ ] **ModesPanel**
  - [ ] –ó–∞–≥—Ä—É–∂–∞–µ—Ç –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –∏–∑ JSON
  - [ ] –°–æ—Ö—Ä–∞–Ω—è–µ—Ç –∏–∑–º–µ–Ω–µ–Ω–∏—è –≤ JSON
  - [ ] –ö–Ω–æ–ø–∫–∞ "–°–±—Ä–æ—Å" —Ä–∞–±–æ—Ç–∞–µ—Ç

### QML ‚úÖ

- [ ] **–ú–æ–¥—É–ª–∏ –∏–Ω—Ç–µ–≥—Ä–∏—Ä–æ–≤–∞–Ω—ã**
  - [ ] DirectionalLights –≤ main.qml
  - [ ] PointLights –≤ main.qml
  - [ ] SharedMaterials –≤ main.qml
  - [ ] Frame –≤ main.qml
  - [ ] SuspensionCorner –≤ main.qml

- [ ] **–ü–∞—Ä–∞–º–µ—Ç—Ä—ã —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∏—Ä–æ–≤–∞–Ω—ã**
  - [ ] Python ‚Üí QML —Ä–∞–±–æ—Ç–∞–µ—Ç
  - [ ] QML ‚Üí Python —Ä–∞–±–æ—Ç–∞–µ—Ç (–≥–¥–µ –Ω—É–∂–Ω–æ)
  - [ ] Bindings —Ä–µ–∞–∫—Ç–∏–≤–Ω—ã–µ

### –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ ‚úÖ

- [ ] **–§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–µ —Ç–µ—Å—Ç—ã**
  - [ ] –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ/–∑–∞–≥—Ä—É–∑–∫–∞ –Ω–∞—Å—Ç—Ä–æ–µ–∫
  - [ ] –ö–Ω–æ–ø–∫–∞ "–°–±—Ä–æ—Å"
  - [ ] –ö–Ω–æ–ø–∫–∞ "–°–æ—Ö—Ä–∞–Ω–∏—Ç—å –∫–∞–∫ –¥–µ—Ñ–æ–ª—Ç"
  - [ ] –ò–∑–º–µ–Ω–µ–Ω–∏–µ –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤ —á–µ—Ä–µ–∑ UI
  - [ ] QML –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è

- [ ] **–ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å**
  - [ ] CPU < 5%
  - [ ] RAM < 500 MB
  - [ ] FPS = 60
  - [ ] –í—Ä–µ–º—è –∑–∞–ø—É—Å–∫–∞ < 5 —Å–µ–∫

- [ ] **–ù–µ—Ç —Ä–µ–≥—Ä–µ—Å—Å–∏–π**
  - [ ] –í—Å–µ –ø—Ä–µ–∂–Ω–∏–µ —Ñ—É–Ω–∫—Ü–∏–∏ —Ä–∞–±–æ—Ç–∞—é—Ç
  - [ ] –ù–∏–∫–∞–∫–∏–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã –Ω–µ –ø–æ—Ç–µ—Ä—è–Ω—ã
  - [ ] UI –æ—Ç–∑—ã–≤—á–∏–≤

### –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è ‚úÖ

- [ ] **–û—Ç—á–µ—Ç—ã –æ–±–Ω–æ–≤–ª–µ–Ω—ã**
  - [ ] docs/REFACTORING_STATUS_FULL.md
  - [ ] docs/REFACTORING_FINAL_REPORT_v4.9.5.md
  - [ ] docs/QML_INTEGRATION_COMPLETE.md (—Å–æ–∑–¥–∞—Ç—å)

- [ ] **Git**
  - [ ] –í—Å–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è commit
  - [ ] Push –≤ feature/hdr-assets-migration
  - [ ] Tag v4.9.5-refactoring-complete

---

## üéâ –ö–†–ò–¢–ï–†–ò–ò –£–°–ü–ï–•–ê

### DONE –ö–û–ì–î–ê:

1. ‚úÖ **–ï–¥–∏–Ω—Å—Ç–≤–µ–Ω–Ω—ã–π –∏—Å—Ç–æ—á–Ω–∏–∫ –Ω–∞—Å—Ç—Ä–æ–µ–∫**
   ```
   ‚úì config/app_settings.json
   ‚úó config/graphics_defaults.py (—É–¥–∞–ª–µ–Ω)
   ‚úó src/app/config_defaults.py (—É–¥–∞–ª–µ–Ω)
   ```

2. ‚úÖ **–ü–æ–ª–Ω–∞—è –ø—Ä–æ—Å–ª–µ–∂–∏–≤–∞–µ–º–æ—Å—Ç—å**
   ```
   JSON ‚Üí SettingsManager ‚Üí Panel ‚Üí UI ‚Üí QML ‚Üí Render
   ```

3. ‚úÖ **–£–ø—Ä–∞–≤–ª—è–µ–º—ã–µ –¥–µ—Ñ–æ–ª—Ç—ã**
   ```
   –ö–Ω–æ–ø–∫–∞ "–°–±—Ä–æ—Å" ‚Üí defaults_snapshot
   –ö–Ω–æ–ø–∫–∞ "–°–æ—Ö—Ä–∞–Ω–∏—Ç—å" ‚Üí –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ defaults_snapshot
   ```

4. ‚úÖ **QML –º–æ–¥—É–ª—è—Ä–Ω–æ—Å—Ç—å**
   ```
   main.qml: 4780 —Å—Ç—Ä–æ–∫ (–±—ã–ª–æ 6050)
   + 8 –º–æ–¥—É–ª–µ–π: 1080 —Å—Ç—Ä–æ–∫
   = 5860 —Å—Ç—Ä–æ–∫ total (-3%)
   ```

5. ‚úÖ **–°—Ç–∞–±–∏–ª—å–Ω–æ—Å—Ç—å**
   ```
   CPU < 5%
   RAM < 500 MB
   FPS = 60
   –ù–µ—Ç –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏—Ö –æ—à–∏–±–æ–∫
   ```

---

## üöÄ –ó–ê–ü–£–°–ö –§–ò–ù–ê–õ–¨–ù–û–ì–û –≠–¢–ê–ü–ê

```bash
# 1. –û—á–∏—Å—Ç–∫–∞ –¥—É–±–ª–∏–∫–∞—Ç–æ–≤
python cleanup_duplicates.py

# 2. QML –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è
# –†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å assets/qml/main.qml —Å–æ–≥–ª–∞—Å–Ω–æ –§–ê–ó–ï 2

# 3. –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ
python app.py --debug

# 4. Git commit
git add .
git commit -m "feat: complete refactoring - unified settings + modular QML"
git push origin feature/hdr-assets-migration

# 5. Create tag
git tag v4.9.5-refactoring-complete
git push origin v4.9.5-refactoring-complete
```

---

## üìä EXPECTED –†–ï–ó–£–õ–¨–¢–ê–¢–´

### –î–æ —Ä–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥–∞:
```
‚ùå 5 —Ñ–∞–π–ª–æ–≤ —Å –¥–µ—Ñ–æ–ª—Ç–∞–º–∏
‚ùå 800+ —Å—Ç—Ä–æ–∫ —Ö–∞—Ä–¥–∫–æ–¥–∞
‚ùå main.qml 6050 —Å—Ç—Ä–æ–∫ (–º–æ–Ω–æ–ª–∏—Ç)
‚ùå –ù–µ–ø—Ä–æ—Å–ª–µ–∂–∏–≤–∞–µ–º—ã–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã
‚ùå –î–µ—Ñ–æ–ª—Ç—ã –≤ –∫–æ–¥–µ
```

### –ü–æ—Å–ª–µ —Ä–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥–∞:
```
‚úÖ 1 —Ñ–∞–π–ª –Ω–∞—Å—Ç—Ä–æ–µ–∫ (JSON)
‚úÖ 0 —Å—Ç—Ä–æ–∫ —Ö–∞—Ä–¥–∫–æ–¥–∞
‚úÖ main.qml 4780 —Å—Ç—Ä–æ–∫ + –º–æ–¥—É–ª–∏
‚úÖ –°–∫–≤–æ–∑–Ω–∞—è –ø—Ä–æ—Å–ª–µ–∂–∏–≤–∞–µ–º–æ—Å—Ç—å
‚úÖ –£–ø—Ä–∞–≤–ª—è–µ–º—ã–µ –¥–µ—Ñ–æ–ª—Ç—ã
```

### –ú–µ—Ç—Ä–∏–∫–∏:
```
–î–µ—Ñ–æ–ª—Ç—ã –≤ –∫–æ–¥–µ: 100% ‚Üí 0% ‚úÖ
–§–∞–π–ª–æ–≤ –Ω–∞—Å—Ç—Ä–æ–µ–∫: 5 ‚Üí 1 ‚úÖ
–ú–æ–¥—É–ª—è—Ä–Ω–æ—Å—Ç—å QML: 0% ‚Üí 100% ‚úÖ
–ü—Ä–æ—Å–ª–µ–∂–∏–≤–∞–µ–º–æ—Å—Ç—å: ‚ùå ‚Üí ‚úÖ
–î—É–±–ª–∏–∫–∞—Ç—ã: ‚ùå ‚Üí ‚úÖ
```

---

## ‚è±Ô∏è TIMELINE

| –§–∞–∑–∞ | –í—Ä–µ–º—è | ETA |
|------|-------|-----|
| –û—á–∏—Å—Ç–∫–∞ –¥—É–±–ª–∏–∫–∞—Ç–æ–≤ | 30 –º–∏–Ω | +00:30 |
| QML –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è | 60 –º–∏–Ω | +01:30 |
| –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ | 30 –º–∏–Ω | +02:00 |
| **TOTAL** | **2 —á–∞—Å–∞** | **‚úÖ** |

---

## üí° –ü–û–°–õ–ï –ó–ê–í–ï–†–®–ï–ù–ò–Ø

1. **–°–æ–∑–¥–∞—Ç—å PR –≤ main**
2. **Code review**
3. **Merge**
4. **Deploy –≤ production**
5. **–û–±–Ω–æ–≤–∏—Ç—å README.md**
6. **–ù–∞–ø–∏—Å–∞—Ç—å CHANGELOG.md**

---

**–ù–∞—á–∞–ª–æ —Ä–∞–±–æ—Ç—ã:** –°–µ–π—á–∞—Å
**–ó–∞–≤–µ—Ä—à–µ–Ω–∏–µ:** +2 —á–∞—Å–∞
**–°—Ç–∞—Ç—É—Å:** READY TO START üöÄ

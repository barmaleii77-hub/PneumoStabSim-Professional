# üîß –ö–†–ò–¢–ò–ß–ï–°–ö–û–ï –ò–°–ü–†–ê–í–õ–ï–ù–ò–ï: –î–µ—Ä–≥–∞–Ω–∏–µ —Ñ–æ–Ω–∞ –∏ –æ—Å–≤–µ—â–µ–Ω–∏—è –ø—Ä–∏ –æ—Ä–±–∏—Ç–µ —á–µ—Ä–µ–∑ 0¬∞

**–î–∞—Ç–∞:** 2025-01-09  
**–ü—Ä–æ–±–ª–µ–º–∞:** –§–æ–Ω –∏ –æ—Å–≤–µ—â–µ–Ω–∏–µ –ø–µ—Ä–µ–ø—Ä—ã–≥–∏–≤–∞—é—Ç –∫–æ–≥–¥–∞ –∫–∞–º–µ—Ä–∞ –ø—Ä–æ—Ö–æ–¥–∏—Ç —á–µ—Ä–µ–∑ 0¬∞ –ø—Ä–∏ –æ—Ä–±–∏—Ç–∞–ª—å–Ω–æ–º –≤—Ä–∞—â–µ–Ω–∏–∏  
**–†–µ—à–µ–Ω–∏–µ:** –§–∏–∫—Å–∞—Ü–∏—è –æ—Ä–∏–µ–Ω—Ç–∞—Ü–∏–∏ —Ñ–æ–Ω–∞ —á–µ—Ä–µ–∑ `probeOrientation`

---

## üêõ –û–ë–ù–ê–†–£–ñ–ï–ù–ù–ê–Ø –ü–†–û–ë–õ–ï–ú–ê

### –û–ø–∏—Å–∞–Ω–∏–µ:
–ü—Ä–∏ –≤—Ä–∞—â–µ–Ω–∏–∏ –∫–∞–º–µ—Ä—ã –≤–æ–∫—Ä—É–≥ —Å—Ü–µ–Ω—ã (–æ—Ä–±–∏—Ç–∞), –∫–æ–≥–¥–∞ —É–≥–æ–ª `yawDeg` –ø—Ä–æ—Ö–æ–¥–∏—Ç —á–µ—Ä–µ–∑ 0¬∞, –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç:
- **–°–∫–∞—á–æ–∫ —Ñ–æ–Ω–∞** (skybox)
- **–ü–µ—Ä–µ–ø—Ä—ã–≥–∏–≤–∞–Ω–∏–µ –æ—Å–≤–µ—â–µ–Ω–∏—è** (IBL probe)
- **–í–∏–∑—É–∞–ª—å–Ω–∞—è "–¥—Ä–æ–∂—å"** –≤—Å–µ–π —Å—Ü–µ–Ω—ã

### –ü—Ä–∏—á–∏–Ω–∞:
–§–æ–Ω –∏ IBL probe –±—ã–ª–∏ **–ø—Ä–∏–≤—è–∑–∞–Ω—ã –∫ —É–≥–ª—É –∫–∞–º–µ—Ä—ã**, —á—Ç–æ –≤—ã–∑—ã–≤–∞–ª–æ –∏—Ö –≤—Ä–∞—â–µ–Ω–∏–µ –≤–º–µ—Å—Ç–µ —Å –∫–∞–º–µ—Ä–æ–π. –ü—Ä–∏ –Ω–æ—Ä–º–∞–ª–∏–∑–∞—Ü–∏–∏ —É–≥–ª–∞ —á–µ—Ä–µ–∑ 0¬∞ (–Ω–∞–ø—Ä–∏–º–µ—Ä, 359¬∞ ‚Üí 0¬∞) –ø—Ä–æ–∏—Å—Ö–æ–¥–∏–ª **—Ä–µ–∑–∫–∏–π —Å–∫–∞—á–æ–∫ –æ—Ä–∏–µ–Ω—Ç–∞—Ü–∏–∏**.

---

## ‚úÖ –†–ï–®–ï–ù–ò–ï

### –ò–∑–º–µ–Ω–µ–Ω–∏—è –≤ `assets/qml/main.qml`:

**–ë–´–õ–û:**
```qml
environment: ExtendedSceneEnvironment {
    backgroundMode: skyboxEnabled ? SceneEnvironment.SkyBox : SceneEnvironment.Color
    lightProbe: iblEnabled && iblReady ? iblLoader.probe : null
    probeExposure: iblIntensity
    // ‚ùå probeOrientation –ù–ï –±—ã–ª —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω
    // ‚ùå –§–æ–Ω –≤—Ä–∞—â–∞–ª—Å—è –≤–º–µ—Å—Ç–µ —Å –∫–∞–º–µ—Ä–æ–π
}
```

**–°–¢–ê–õ–û:**
```qml
environment: ExtendedSceneEnvironment {
    backgroundMode: skyboxEnabled ? SceneEnvironment.SkyBox : SceneEnvironment.Color
    lightProbe: iblEnabled && iblReady ? iblLoader.probe : null
    probeExposure: iblIntensity
    
    // ‚úÖ –ö–†–ò–¢–ò–ß–ï–°–ö–û–ï –ò–°–ü–†–ê–í–õ–ï–ù–ò–ï: –§–∏–∫—Å–∏—Ä—É–µ–º –æ—Ä–∏–µ–Ω—Ç–∞—Ü–∏—é —Ñ–æ–Ω–∞
    // –§–æ–Ω –ù–ï –¥–æ–ª–∂–µ–Ω –≤—Ä–∞—â–∞—Ç—å—Å—è –≤–º–µ—Å—Ç–µ —Å –∫–∞–º–µ—Ä–æ–π!
    // skybox/IBL probe –¥–æ–ª–∂–Ω—ã –±—ã—Ç—å –≤ —Ñ–∏–∫—Å–∏—Ä–æ–≤–∞–Ω–Ω–æ–π –º–∏—Ä–æ–≤–æ–π —Å–∏—Å—Ç–µ–º–µ –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç
    probeOrientation: Qt.vector3d(0, 0, 0)  // ‚úÖ –ù–û–í–û–ï: –§–∏–∫—Å–∏—Ä–æ–≤–∞–Ω–Ω–∞—è –æ—Ä–∏–µ–Ω—Ç–∞—Ü–∏—è
}
```

---

## üéØ –†–ï–ó–£–õ–¨–¢–ê–¢

### ‚úÖ **–ò—Å–ø—Ä–∞–≤–ª–µ–Ω–æ:**
1. **–§–æ–Ω —Å—Ç–∞–±–∏–ª–µ–Ω** –ø—Ä–∏ –ª—é–±–æ–º —É–≥–ª–µ –∫–∞–º–µ—Ä—ã
2. **IBL –æ—Å–≤–µ—â–µ–Ω–∏–µ —Ñ–∏–∫—Å–∏—Ä–æ–≤–∞–Ω–æ** –≤ –º–∏—Ä–æ–≤–æ–π —Å–∏—Å—Ç–µ–º–µ –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç
3. **–ù–µ—Ç —Å–∫–∞—á–∫–æ–≤** –ø—Ä–∏ –ø–µ—Ä–µ—Ö–æ–¥–µ —á–µ—Ä–µ–∑ 0¬∞, 90¬∞, 180¬∞, 270¬∞
4. **–ü–ª–∞–≤–Ω–∞—è –æ—Ä–±–∏—Ç–∞** –∫–∞–º–µ—Ä—ã –≤–æ–∫—Ä—É–≥ —Å—Ü–µ–Ω—ã

### üìä **–¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ:**
- ‚úÖ –í—Ä–∞—â–µ–Ω–∏–µ –∫–∞–º–µ—Ä—ã –Ω–∞ 360¬∞ (–ø–æ–ª–Ω—ã–π –∫—Ä—É–≥)
- ‚úÖ –ü–µ—Ä–µ—Ö–æ–¥ —á–µ—Ä–µ–∑ 0¬∞ –≤ –æ–±–æ–∏—Ö –Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏—è—Ö
- ‚úÖ –ë—ã—Å—Ç—Ä–æ–µ –≤—Ä–∞—â–µ–Ω–∏–µ –º—ã—à—å—é
- ‚úÖ –ê–≤—Ç–æ–≤—Ä–∞—â–µ–Ω–∏–µ (`autoRotate`)

---

## üèóÔ∏è –ê–†–•–ò–¢–ï–ö–¢–£–†–ù–´–ï –ò–ó–ú–ï–ù–ï–ù–ò–Ø

### –ü—Ä–∏–Ω—Ü–∏–ø —Ä–∞–∑–¥–µ–ª–µ–Ω–∏—è:
**–ö–ê–ú–ï–†–ê** (–¥–≤–∏–∂–µ—Ç—Å—è –≤–æ–∫—Ä—É–≥ —Å—Ü–µ–Ω—ã):
```qml
Node {
    id: cameraRig
    position: root.pivot
    eulerRotation: Qt.vector3d(root.pitchDeg, root.yawDeg, 0)  // ‚úÖ –í—Ä–∞—â–∞–µ—Ç—Å—è
}
```

**–§–û–ù –ò IBL** (—Ñ–∏–∫—Å–∏—Ä–æ–≤–∞–Ω—ã –≤ –º–∏—Ä–µ):
```qml
environment: ExtendedSceneEnvironment {
    probeOrientation: Qt.vector3d(0, 0, 0)  // ‚úÖ –ù–ï –≤—Ä–∞—â–∞–µ—Ç—Å—è
}
```

---

## üìù –¢–ï–•–ù–ò–ß–ï–°–ö–ò–ï –î–ï–¢–ê–õ–ò

### `probeOrientation` - —á—Ç–æ —ç—Ç–æ?
- **–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ:** –ó–∞–¥–∞–µ—Ç –æ—Ä–∏–µ–Ω—Ç–∞—Ü–∏—é Skybox –∏ IBL probe –≤ –º–∏—Ä–æ–≤–æ–π —Å–∏—Å—Ç–µ–º–µ –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç
- **–ü–æ —É–º–æ–ª—á–∞–Ω–∏—é:** –ï—Å–ª–∏ –Ω–µ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω, –Ω–∞—Å–ª–µ–¥—É–µ—Ç –æ—Ä–∏–µ–Ω—Ç–∞—Ü–∏—é –æ—Ç –∫–∞–º–µ—Ä—ã (BAD!)
- **–ù–∞—à–µ —Ä–µ—à–µ–Ω–∏–µ:** `Qt.vector3d(0, 0, 0)` - —Ñ–∏–∫—Å–∏—Ä–æ–≤–∞–Ω–Ω–∞—è –æ—Ä–∏–µ–Ω—Ç–∞—Ü–∏—è (GOOD!)

### –§–∏–∑–∏—á–µ—Å–∫–∏–π —Å–º—ã—Å–ª:
- **Skybox** - —ç—Ç–æ "–∫—É–ø–æ–ª –Ω–µ–±–∞" –≤–æ–∫—Ä—É–≥ –≤—Å–µ–π —Å—Ü–µ–Ω—ã
- **IBL probe** - –∏—Å—Ç–æ—á–Ω–∏–∫ –æ—Ç—Ä–∞–∂–µ–Ω–Ω–æ–≥–æ —Å–≤–µ—Ç–∞ –æ—Ç –æ–∫—Ä—É–∂–µ–Ω–∏—è
- –û–±–∞ –¥–æ–ª–∂–Ω—ã –±—ã—Ç—å **—Ñ–∏–∫—Å–∏—Ä–æ–≤–∞–Ω—ã –≤ –º–∏—Ä–µ**, –∞ –Ω–µ –≤—Ä–∞—â–∞—Ç—å—Å—è —Å –∫–∞–º–µ—Ä–æ–π

---

## üöÄ –ü–†–û–í–ï–†–ö–ê

### –ö–∞–∫ –ø—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å:
1. –ó–∞–ø—É—Å—Ç–∏—Ç—å –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ: `py app.py`
2. –í—Ä–∞—â–∞—Ç—å –∫–∞–º–µ—Ä—É –º—ã—à—å—é (–õ–ö–ú + drag)
3. –°–ª–µ–¥–∏—Ç—å –∑–∞ —Ñ–æ–Ω–æ–º –ø—Ä–∏ –ø–µ—Ä–µ—Ö–æ–¥–µ —á–µ—Ä–µ–∑ 0¬∞, 90¬∞, 180¬∞, 270¬∞
4. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –∞–≤—Ç–æ–≤—Ä–∞—â–µ–Ω–∏–µ: –≤–∫–ª—é—á–∏—Ç—å `auto_rotate` –≤ –ø–∞–Ω–µ–ª–∏ –∫–∞–º–µ—Ä—ã

### –û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç:
- ‚úÖ –§–æ–Ω **–ù–ï –¥–µ—Ä–≥–∞–µ—Ç—Å—è**
- ‚úÖ –û—Å–≤–µ—â–µ–Ω–∏–µ **—Å—Ç–∞–±–∏–ª—å–Ω–æ–µ**
- ‚úÖ –°—Ü–µ–Ω–∞ **–ø–ª–∞–≤–Ω–æ –≤—Ä–∞—â–∞–µ—Ç—Å—è**

---

## üîç –ê–ù–ê–õ–ò–ó –ö–û–†–ù–ï–í–û–ô –ü–†–ò–ß–ò–ù–´

### –ü–æ—á–µ–º—É –ø—Ä–æ–±–ª–µ–º–∞ –æ—Å—Ç–∞–ª–∞—Å—å –Ω–µ–∑–∞–º–µ—á–µ–Ω–Ω–æ–π?
1. **–¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ** –ø—Ä–æ–≤–æ–¥–∏–ª–æ—Å—å –Ω–∞ –º–∞–ª—ã—Ö —É–≥–ª–∞—Ö (< 180¬∞)
2. **–ù–æ—Ä–º–∞–ª–∏–∑–∞—Ü–∏—è —É–≥–ª–æ–≤** —á–µ—Ä–µ–∑ `normAngleDeg()` —Ä–∞–±–æ—Ç–∞–ª–∞ –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ, –Ω–æ **—Ñ–æ–Ω –Ω–µ —É—á–∏—Ç—ã–≤–∞–ª—Å—è**
3. **Qt –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è** –Ω–µ–¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ —á–µ—Ç–∫–æ –æ–ø–∏—Å—ã–≤–∞–µ—Ç –ø–æ–≤–µ–¥–µ–Ω–∏–µ `probeOrientation` –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é

### –£—Ä–æ–∫:
–ü—Ä–∏ —Ä–∞–±–æ—Ç–µ —Å 3D –æ–∫—Ä—É–∂–µ–Ω–∏–µ–º **–≤—Å–µ–≥–¥–∞ —è–≤–Ω–æ –∑–∞–¥–∞–≤–∞—Ç—å –æ—Ä–∏–µ–Ω—Ç–∞—Ü–∏—é —Ñ–æ–Ω–∞**, –¥–∞–∂–µ –µ—Å–ª–∏ –∫–∞–∂–µ—Ç—Å—è, —á—Ç–æ –æ–Ω–∞ "–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é –ø—Ä–∞–≤–∏–ª—å–Ω–∞—è".

---

## üìö –°–í–Ø–ó–ê–ù–ù–´–ï –§–ê–ô–õ–´

### –ò–∑–º–µ–Ω–µ–Ω–Ω—ã–µ:
- `assets/qml/main.qml` - –¥–æ–±–∞–≤–ª–µ–Ω–∞ —Å—Ç—Ä–æ–∫–∞ `probeOrientation: Qt.vector3d(0, 0, 0)`

### –ó–∞—Ç—Ä–æ–Ω—É—Ç—ã–µ:
- `src/ui/panels/panel_graphics.py` - –ø–∞–Ω–µ–ª—å —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –≥—Ä–∞—Ñ–∏–∫–æ–π (–±–µ–∑ –∏–∑–º–µ–Ω–µ–Ω–∏–π)
- `src/ui/main_window.py` - –≥–ª–∞–≤–Ω–æ–µ –æ–∫–Ω–æ (–±–µ–∑ –∏–∑–º–µ–Ω–µ–Ω–∏–π)

### –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è:
- Qt –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è: `SceneEnvironment.probeOrientation`
- –ù–∞—à–∞ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è: `GRAPHICS_RESTORATION_SUCCESS_REPORT.md`

---

## ‚úÖ –°–¢–ê–¢–£–°: –ò–°–ü–†–ê–í–õ–ï–ù–û

**–ü—Ä–æ–±–ª–µ–º–∞:** ‚ùå –§–æ–Ω –¥–µ—Ä–≥–∞–µ—Ç—Å—è –ø—Ä–∏ –æ—Ä–±–∏—Ç–µ —á–µ—Ä–µ–∑ 0¬∞  
**–†–µ—à–µ–Ω–∏–µ:** ‚úÖ –§–∏–∫—Å–∏—Ä–æ–≤–∞–Ω `probeOrientation`  
**–¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ:** ‚úÖ –ü—Ä–æ–π–¥–µ–Ω–æ  
**–î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è:** ‚úÖ –û–±–Ω–æ–≤–ª–µ–Ω–∞  

---

*–ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–æ: 2025-01-09*  
*–†–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫: GitHub Copilot*  
*–ü—Ä–æ–µ–∫—Ç: PneumoStabSim Professional*

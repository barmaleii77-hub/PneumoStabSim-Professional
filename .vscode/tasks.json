{
    "version": "2.0.0",
    "tasks": [
        {
            "label": "üõ†Ô∏è CI: –ø–æ–¥–≥–æ—Ç–æ–≤–∫–∞ –æ–∫—Ä—É–∂–µ–Ω–∏—è",
            "type": "shell",
            "command": "${config:python.defaultInterpreterPath}",
            "args": [
                "-m",
                "pip",
                "install",
                "--upgrade",
                "pip",
                "-e",
                ".[dev]",
                "coverage",
                "pytest-cov",
                "pytest-xdist"
            ],
            "group": "build",
            "options": {
                "cwd": "${workspaceFolder}"
            },
            "presentation": {
                "echo": true,
                "reveal": "always",
                "focus": false,
                "panel": "shared",
                "group": "utility"
            },
            "problemMatcher": [],
            "detail": "–£—Å—Ç–∞–Ω–æ–≤–∫–∞ dev-–∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π –∫–∞–∫ –≤ CI –∫–æ–Ω–≤–µ–π–µ—Ä–µ"
        },
        {
            "label": "üöÄ –ó–∞–ø—É—Å–∫ PneumoStabSim (–ì–ª–∞–≤–Ω—ã–π)",
            "type": "shell",
            "command": "${config:python.defaultInterpreterPath}",
            "args": [
                "app.py"
            ],
            "group": {
                "kind": "build",
                "isDefault": true
            },
            "options": {
                "cwd": "${workspaceFolder}",
                "env": {
                    "PYTHONPATH": "${workspaceFolder}${pathSeparator}${workspaceFolder}/src"
                }
            },
            "presentation": {
                "echo": true,
                "reveal": "always",
                "focus": false,
                "panel": "new",
                "showReuseMessage": true,
                "clear": false,
                "group": "main"
            },
            "problemMatcher": [],
            "detail": "–ó–∞–ø—É—Å–∫ –æ—Å–Ω–æ–≤–Ω–æ–≥–æ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è —á–µ—Ä–µ–∑ venv Python3.13"
        },
        {
            "label": "üêõ Verbose Mode (–ø–æ–¥—Ä–æ–±–Ω–æ)",
            "type": "shell",
            "command": "${config:python.defaultInterpreterPath}",
            "args": [
                "app.py",
                "--verbose"
            ],
            "group": "build",
            "options": {
                "cwd": "${workspaceFolder}",
                "env": {
                    "PYTHONPATH": "${workspaceFolder}${pathSeparator}${workspaceFolder}/src"
                }
            },
            "presentation": {
                "echo": true,
                "reveal": "always",
                "focus": false,
                "panel": "new",
                "group": "debug"
            },
            "problemMatcher": [],
            "detail": "–ó–∞–ø—É—Å–∫ —Å —Ä–∞—Å—à–∏—Ä–µ–Ω–Ω–æ–π –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–æ–π –∏ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ–º"
        },
        {
            "label": "üß™ Test Mode (–ê–≤—Ç–æ–∑–∞–∫—Ä—ã—Ç–∏–µ5—Å)",
            "type": "shell",
            "command": "${config:python.defaultInterpreterPath}",
            "args": [
                "app.py",
                "--test-mode"
            ],
            "group": "test",
            "options": {
                "cwd": "${workspaceFolder}",
                "env": {
                    "PYTHONPATH": "${workspaceFolder}${pathSeparator}${workspaceFolder}/src"
                }
            },
            "presentation": {
                "echo": true,
                "reveal": "always",
                "focus": false,
                "panel": "new",
                "group": "test"
            },
            "problemMatcher": [],
            "detail": "–ë—ã—Å—Ç—Ä—ã–π —Ç–µ—Å—Ç - –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –∑–∞–∫—Ä–æ–µ—Ç—Å—è —á–µ—Ä–µ–∑5 —Å–µ–∫—É–Ω–¥"
        },
        {
            "label": "üîì Non-blocking Mode (–¢–µ—Ä–º–∏–Ω–∞–ª —Å–≤–æ–±–æ–¥–µ–Ω)",
            "type": "shell",
            "command": "${config:python.defaultInterpreterPath}",
            "args": [
                "app.py",
                "--no-block"
            ],
            "group": "build",
            "options": {
                "cwd": "${workspaceFolder}",
                "env": {
                    "PYTHONPATH": "${workspaceFolder}${pathSeparator}${workspaceFolder}/src"
                }
            },
            "presentation": {
                "echo": true,
                "reveal": "always",
                "focus": false,
                "panel": "new",
                "group": "main"
            },
            "problemMatcher": [],
            "detail": "–ó–∞–ø—É—Å–∫ –≤ —Ñ–æ–Ω–æ–≤–æ–º —Ä–µ–∂–∏–º–µ, —Ç–µ—Ä–º–∏–Ω–∞–ª –æ—Å—Ç–∞–µ—Ç—Å—è —Å–≤–æ–±–æ–¥–Ω—ã–º"
        },
        {
            "label": "üõ°Ô∏è Safe Mode (–°–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å)",
            "type": "shell",
            "command": "${config:python.defaultInterpreterPath}",
            "args": [
                "app.py",
                "--safe-mode"
            ],
            "group": "build",
            "options": {
                "cwd": "${workspaceFolder}",
                "env": {
                    "PYTHONPATH": "${workspaceFolder}${pathSeparator}${workspaceFolder}/src"
                }
            },
            "presentation": {
                "echo": true,
                "reveal": "always",
                "focus": false,
                "panel": "new",
                "group": "main"
            },
            "problemMatcher": [],
            "detail": "–ë–µ–∑–æ–ø–∞—Å–Ω—ã–π —Ä–µ–∂–∏–º –¥–ª—è —Å—Ç–∞—Ä—ã—Ö —Å–∏—Å—Ç–µ–º"
        },
        {
            "label": "üì¶ –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π",
            "type": "shell",
            "command": "${config:python.defaultInterpreterPath}",
            "args": [
                "-m",
                "pip",
                "install",
                "-r",
                "requirements.txt"
            ],
            "group": "build",
            "options": {
                "cwd": "${workspaceFolder}"
            },
            "presentation": {
                "echo": true,
                "reveal": "always",
                "focus": false,
                "panel": "new",
                "group": "setup"
            },
            "problemMatcher": [],
            "detail": "–£—Å—Ç–∞–Ω–æ–≤–∫–∞ –≤—Å–µ—Ö –Ω–µ–æ–±—Ö–æ–¥–∏–º—ã—Ö Python –ø–∞–∫–µ—Ç–æ–≤"
        },
        {
            "label": "üì¶ –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π",
            "type": "shell",
            "command": "${config:python.defaultInterpreterPath}",
            "args": [
                "-m",
                "pip",
                "install",
                "--upgrade",
                "-r",
                "requirements.txt"
            ],
            "group": "build",
            "options": {
                "cwd": "${workspaceFolder}"
            },
            "presentation": {
                "echo": true,
                "reveal": "always",
                "focus": false,
                "panel": "new",
                "group": "setup"
            },
            "problemMatcher": [],
            "detail": "–û–±–Ω–æ–≤–ª–µ–Ω–∏–µ Python –ø–∞–∫–µ—Ç–æ–≤ –¥–æ –ø–æ—Å–ª–µ–¥–Ω–∏—Ö –≤–µ—Ä—Å–∏–π"
        },
        {
            "label": "üß™ –ó–∞–ø—É—Å–∫ –≤—Å–µ—Ö —Ç–µ—Å—Ç–æ–≤",
            "type": "shell",
            "command": "${config:python.defaultInterpreterPath}",
            "args": [
                "-m",
                "pytest",
                "tests/",
                "-v",
                "--tb=short",
                "--color=yes"
            ],
            "group": "test",
            "options": {
                "cwd": "${workspaceFolder}",
                "env": {
                    "PYTHONPATH": "${workspaceFolder}${pathSeparator}${workspaceFolder}/src"
                }
            },
            "presentation": {
                "echo": true,
                "reveal": "always",
                "focus": false,
                "panel": "new",
                "group": "test"
            },
            "problemMatcher": [],
            "detail": "–ó–∞–ø—É—Å–∫ –≤—Å–µ–≥–æ –Ω–∞–±–æ—Ä–∞ —Ç–µ—Å—Ç–æ–≤ pytest"
        },
        {
            "label": "üß™ –ë—ã—Å—Ç—Ä—ã–µ —Ç–µ—Å—Ç—ã (–±–µ–∑ UI)",
            "type": "shell",
            "command": "${config:python.defaultInterpreterPath}",
            "args": [
                "-m",
                "pytest",
                "tests/",
                "-v",
                "-x",
                "--tb=short",
                "-k",
                "not ui"
            ],
            "group": "test",
            "options": {
                "cwd": "${workspaceFolder}",
                "env": {
                    "PYTHONPATH": "${workspaceFolder}${pathSeparator}${workspaceFolder}/src"
                }
            }
        },
        {
            "label": "üß™ –¢–µ—Å—Ç—ã —Ñ–∏–∑–∏–∫–∏",
            "type": "shell",
            "command": "${config:python.defaultInterpreterPath}",
            "args": [
                "-m",
                "pytest",
                "tests/test_physics*.py",
                "tests/test_integration*.py",
                "-v"
            ],
            "group": "test",
            "options": {
                "cwd": "${workspaceFolder}",
                "env": {
                    "PYTHONPATH": "${workspaceFolder}${pathSeparator}${workspaceFolder}/src"
                }
            },
            "presentation": {
                "echo": true,
                "reveal": "always",
                "focus": false,
                "panel": "new",
                "group": "test"
            },
            "problemMatcher": [],
            "detail": "–¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ —Ñ–∏–∑–∏—á–µ—Å–∫–æ–π –º–æ–¥–µ–ª–∏ –∏ –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏"
        },
        {
            "label": "üß™ –¢–µ—Å—Ç—ã UI",
            "type": "shell",
            "command": "${config:python.defaultInterpreterPath}",
            "args": [
                "-m",
                "pytest",
                "tests/ui/",
                "tests/graphics/",
                "-v",
                "--tb=short"
            ],
            "group": "test",
            "options": {
                "cwd": "${workspaceFolder}",
                "env": {
                    "PYTHONPATH": "${workspaceFolder}${pathSeparator}${workspaceFolder}/src"
                }
            },
            "presentation": {
                "echo": true,
                "reveal": "always",
                "focus": false,
                "panel": "new",
                "group": "test"
            },
            "problemMatcher": [],
            "detail": "–¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–æ–≥–æ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞ –∏ –≥—Ä–∞—Ñ–∏–∫–∏"
        },
        {
            "label": "üîç QML –î–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞",
            "type": "shell",
            "command": "${config:python.defaultInterpreterPath}",
            "args": [
                "qml_diagnostic.py"
            ],
            "group": "build",
            "options": {
                "cwd": "${workspaceFolder}",
                "env": {
                    "PYTHONPATH": "${workspaceFolder}${pathSeparator}${workspaceFolder}/src"
                }
            },
            "presentation": {
                "echo": true,
                "reveal": "always",
                "focus": false,
                "panel": "new",
                "group": "utility"
            },
            "problemMatcher": [],
            "detail": "–î–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞ –∑–∞–≥—Ä—É–∑–∫–∏ QML —Ñ–∞–π–ª–æ–≤"
        },
        {
            "label": "üöë –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å–æ—Å—Ç–æ—è–Ω–∏—è —Å–∏—Å—Ç–µ–º—ã",
            "type": "shell",
            "command": "${config:python.defaultInterpreterPath}",
            "args": [
                "scripts/health_check.py"
            ],
            "group": "build",
            "options": {
                "cwd": "${workspaceFolder}",
                "env": {
                    "PYTHONPATH": "${workspaceFolder}${pathSeparator}${workspaceFolder}/src"
                }
            },
            "presentation": {
                "echo": true,
                "reveal": "always",
                "focus": false,
                "panel": "new",
                "group": "utility"
            },
            "problemMatcher": [],
            "detail": "–ö–æ–º–ø–ª–µ–∫—Å–Ω–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞ —Å–∏—Å—Ç–µ–º—ã –∏ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π"
        },
        {
            "label": "üìä –ö–æ–º–ø–ª–µ–∫—Å–Ω–æ–µ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ",
            "type": "shell",
            "command": "${config:python.defaultInterpreterPath}",
            "args": [
                "scripts/comprehensive_test.py"
            ],
            "group": "test",
            "options": {
                "cwd": "${workspaceFolder}",
                "env": {
                    "PYTHONPATH": "${workspaceFolder}${pathSeparator}${workspaceFolder}/src"
                }
            },
            "presentation": {
                "echo": true,
                "reveal": "always",
                "focus": false,
                "panel": "new",
                "group": "test"
            },
            "problemMatcher": [],
            "detail": "–ü–æ–ª–Ω–æ–µ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –≤—Å–µ—Ö –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤ —Å–∏—Å—Ç–µ–º—ã"
        },
        {
            "label": "üîß –ë—ã—Å—Ç—Ä–æ–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ",
            "type": "shell",
            "command": "${config:python.defaultInterpreterPath}",
            "args": [
                "quick_fix.py"
            ],
            "group": "build",
            "options": {
                "cwd": "${workspaceFolder}",
                "env": {
                    "PYTHONPATH": "${workspaceFolder}${pathSeparator}${workspaceFolder}/src"
                }
            },
            "presentation": {
                "echo": true,
                "reveal": "always",
                "focus": false,
                "panel": "new",
                "group": "utility"
            },
            "problemMatcher": [],
            "detail": "–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∏–∑–≤–µ—Å—Ç–Ω—ã—Ö –ø—Ä–æ–±–ª–µ–º"
        },
        {
            "label": "üßπ –û—á–∏—Å—Ç–∫–∞ –∫—ç—à–∞ Python",
            "type": "shell",
            "command": "powershell",
            "args": [
                "-NoProfile",
                "-ExecutionPolicy",
                "Bypass",
                "-Command",
                "Get-ChildItem -Path . -Recurse -Filter '__pycache__' -Directory | ForEach-Object { Remove-Item -Path $_.FullName -Recurse -Force -Verbose }"
            ],
            "group": "build",
            "options": {
                "cwd": "${workspaceFolder}"
            },
            "presentation": {
                "echo": true,
                "reveal": "always",
                "focus": false,
                "panel": "new",
                "group": "utility"
            },
            "problemMatcher": [],
            "detail": "–£–¥–∞–ª–µ–Ω–∏–µ –≤—Å–µ—Ö __pycache__ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–π"
        },
        {
            "label": "üíæ Freeze Requirements",
            "type": "shell",
            "command": "powershell",
            "args": [
                "-NoProfile",
                "-ExecutionPolicy",
                "Bypass",
                "-Command",
                "$req = pip freeze; Set-Content -Path 'requirements-current.txt' -Value $req -Encoding UTF8"
            ],
            "group": "build",
            "options": {
                "cwd": "${workspaceFolder}"
            },
            "presentation": {
                "echo": true,
                "reveal": "always",
                "focus": false,
                "panel": "new",
                "group": "utility"
            },
            "problemMatcher": [],
            "detail": "–°–æ–∑–¥–∞–Ω–∏–µ –∞–∫—Ç—É–∞–ª—å–Ω–æ–≥–æ —Å–ø–∏—Å–∫–∞ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω—ã—Ö –ø–∞–∫–µ—Ç–æ–≤"
        },
        {
            "label": "üîç Ruff lint (CI)",
            "type": "shell",
            "command": "${config:python.defaultInterpreterPath}",
            "args": [
                "-m",
                "ruff",
                "check",
                "src",
                "tests",
                "app.py",
                "tools"
            ],
            "group": "test",
            "options": {
                "cwd": "${workspaceFolder}",
                "env": {
                    "PYTHONPATH": "${workspaceFolder}${pathSeparator}${workspaceFolder}/src"
                }
            },
            "presentation": {
                "echo": true,
                "reveal": "always",
                "focus": false,
                "panel": "new",
                "group": "quality"
            },
            "problemMatcher": [],
            "detail": "–ü—Ä–æ–≤–µ—Ä–∫–∞ –∫–∞—á–µ—Å—Ç–≤–∞ –∫–æ–¥–∞ —Å –ø–æ–º–æ—â—å—é Ruff (—Å–æ–≤–ø–∞–¥–∞–µ—Ç —Å —à–∞–≥–æ–º CI)"
        },
        {
            "label": "üé® Ruff format --check",
            "type": "shell",
            "command": "${config:python.defaultInterpreterPath}",
            "args": [
                "-m",
                "ruff",
                "format",
                "--check",
                "src",
                "tests",
                "app.py",
                "tools"
            ],
            "group": "build",
            "options": {
                "cwd": "${workspaceFolder}",
                "env": {
                    "PYTHONPATH": "${workspaceFolder}${pathSeparator}${workspaceFolder}/src"
                }
            },
            "presentation": {
                "echo": true,
                "reveal": "always",
                "focus": false,
                "panel": "new",
                "group": "quality"
            },
            "problemMatcher": [],
            "detail": "–ü—Ä–æ–≤–µ—Ä–∫–∞ —Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏—è Ruff (–∏–¥–µ–Ω—Ç–∏—á–Ω–æ —à–∞–≥—É CI)"
        },
        {
            "label": "üìä Pytest (core, coverage)",
            "type": "shell",
            "command": "${config:python.defaultInterpreterPath}",
            "args": [
                "-m",
                "pytest",
                "-m",
                "not gui",
                "--cov=src",
                "--cov-report=term-missing",
                "--junitxml=artifacts/vscode/junit-core.xml"
            ],
            "group": "test",
            "options": {
                "cwd": "${workspaceFolder}",
                "env": {
                    "PYTHONPATH": "${workspaceFolder}${pathSeparator}${workspaceFolder}/src",
                    "QT_QPA_PLATFORM": "offscreen"
                }
            },
            "presentation": {
                "echo": true,
                "reveal": "always",
                "focus": false,
                "panel": "new",
                "group": "test"
            },
            "problemMatcher": [],
            "detail": "–û—Å–Ω–æ–≤–Ω–æ–π –ø—Ä–æ–≥–æ–Ω pytest —Å –ø–æ–∫—Ä—ã—Ç–∏–µ–º (–∫–∞–∫ –≤ CI)"
        },
        {
            "label": "üîÑ Git Status",
            "type": "shell",
            "command": "git",
            "args": [
                "status",
                "--porcelain"
            ],
            "group": "build",
            "options": {
                "cwd": "${workspaceFolder}"
            },
            "presentation": {
                "echo": true,
                "reveal": "always",
                "focus": false,
                "panel": "new",
                "group": "utility"
            },
            "problemMatcher": []
        },
        {
            "label": "üß≠ Pytest (QML/GUI)",
            "type": "shell",
            "command": "${config:python.defaultInterpreterPath}",
            "args": [
                "-m",
                "pytest",
                "tests/ui",
                "-m",
                "gui",
                "--cov=src",
                "--cov-append",
                "--cov-report=term-missing",
                "--junitxml=artifacts/vscode/junit-qml.xml"
            ],
            "group": "test",
            "options": {
                "cwd": "${workspaceFolder}",
                "env": {
                    "PYTHONPATH": "${workspaceFolder}${pathSeparator}${workspaceFolder}/src",
                    "QT_QPA_PLATFORM": "offscreen"
                }
            },
            "presentation": {
                "echo": true,
                "reveal": "always",
                "focus": false,
                "panel": "new",
                "group": "test"
            },
            "problemMatcher": [],
            "detail": "GUI/QML —Ç–µ—Å—Ç—ã pytest —Å –ø–æ–∫—Ä—ã—Ç–∏–µ–º (–∫–∞–∫ –≤ CI)"
        }
    ]
}
